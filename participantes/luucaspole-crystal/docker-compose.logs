
time="2025-07-26T18:05:31-03:00" level=warning msg="/home/rinha-user/rinha-de-backend-2025/participantes/luucaspole-crystal/docker-compose.yaml: the attribute `version` is obsolete, it will be ignored, please remove it to avoid potential confusion"
 app1 Pulling 
 app2 Pulling 
 consumer Pulling 
 pingora Pulling 
 ccaf924377f9 Pulling fs layer 
 806b7a588f4c Pulling fs layer 
 d4e8a3b4cf38 Pulling fs layer 
 32f112e3802c Already exists 
 ec5ce71252dd Pulling fs layer 
 0b7256ed3d1c Pulling fs layer 
 b2a16256baff Pulling fs layer 
 7fb88bb68678 Pulling fs layer 
 0b7256ed3d1c Waiting 
 b2a16256baff Waiting 
 7fb88bb68678 Waiting 
 ec5ce71252dd Waiting 
 32f112e3802c Already exists 
 ec5ce71252dd Pulling fs layer 
 0b7256ed3d1c Pulling fs layer 
 b2a16256baff Pulling fs layer 
 675d115e4e29 Pulling fs layer 
 ec5ce71252dd Waiting 
 0b7256ed3d1c Waiting 
 b2a16256baff Waiting 
 675d115e4e29 Waiting 
 32f112e3802c Already exists 
 ec5ce71252dd Pulling fs layer 
 0b7256ed3d1c Pulling fs layer 
 b2a16256baff Pulling fs layer 
 675d115e4e29 Pulling fs layer 
 675d115e4e29 Waiting 
 ec5ce71252dd Waiting 
 0b7256ed3d1c Waiting 
 b2a16256baff Waiting 
 ccaf924377f9 Downloading [>                                                  ]  313.8kB/30.26MB
 806b7a588f4c Downloading [>                                                  ]  11.74kB/1.068MB
 806b7a588f4c Download complete 
 ccaf924377f9 Downloading [===============>                                   ]  9.583MB/30.26MB
 ccaf924377f9 Downloading [===================================>               ]   21.4MB/30.26MB
 ccaf924377f9 Verifying Checksum 
 ccaf924377f9 Download complete 
 ccaf924377f9 Extracting [>                                                  ]  327.7kB/30.26MB
 ccaf924377f9 Extracting [======>                                            ]  3.932MB/30.26MB
 ccaf924377f9 Extracting [==============>                                    ]   8.52MB/30.26MB
 ccaf924377f9 Extracting [======================>                            ]  13.43MB/30.26MB
 ccaf924377f9 Extracting [==========================>                        ]  16.06MB/30.26MB
 ccaf924377f9 Extracting [=====================================>             ]  22.61MB/30.26MB
 ccaf924377f9 Extracting [=============================================>     ]  27.53MB/30.26MB
 ccaf924377f9 Extracting [===============================================>   ]  28.84MB/30.26MB
 d4e8a3b4cf38 Downloading [>                                                  ]  39.61kB/3.904MB
 d4e8a3b4cf38 Downloading [=====================================>             ]  2.945MB/3.904MB
 ccaf924377f9 Extracting [================================================>  ]  29.16MB/30.26MB
 d4e8a3b4cf38 Verifying Checksum 
 d4e8a3b4cf38 Download complete 
 ccaf924377f9 Extracting [================================================>  ]  29.49MB/30.26MB
 ccaf924377f9 Extracting [==================================================>]  30.26MB/30.26MB
 ccaf924377f9 Pull complete 
 806b7a588f4c Extracting [=>                                                 ]  32.77kB/1.068MB
 806b7a588f4c Extracting [==================================================>]  1.068MB/1.068MB
 806b7a588f4c Extracting [==================================================>]  1.068MB/1.068MB
 ec5ce71252dd Downloading [>                                                  ]  360.4kB/36.01MB
 ec5ce71252dd Downloading [>                                                  ]  360.4kB/36.01MB
 ec5ce71252dd Downloading [>                                                  ]  360.4kB/36.01MB
 0b7256ed3d1c Downloading [>                                                  ]  163.4kB/16.09MB
 0b7256ed3d1c Downloading [>                                                  ]  163.4kB/16.09MB
 0b7256ed3d1c Downloading [>                                                  ]  163.4kB/16.09MB
 806b7a588f4c Pull complete 
 d4e8a3b4cf38 Extracting [>                                                  ]  65.54kB/3.904MB
 0b7256ed3d1c Downloading [=====================>                             ]  6.783MB/16.09MB
 0b7256ed3d1c Downloading [=====================>                             ]  6.783MB/16.09MB
 0b7256ed3d1c Downloading [=====================>                             ]  6.783MB/16.09MB
 ec5ce71252dd Downloading [==>                                                ]  1.802MB/36.01MB
 ec5ce71252dd Downloading [==>                                                ]  1.802MB/36.01MB
 ec5ce71252dd Downloading [==>                                                ]  1.802MB/36.01MB
 d4e8a3b4cf38 Extracting [==================================================>]  3.904MB/3.904MB
 d4e8a3b4cf38 Pull complete 
 0b7256ed3d1c Downloading [=============================================>     ]  14.79MB/16.09MB
 0b7256ed3d1c Downloading [=============================================>     ]  14.79MB/16.09MB
 0b7256ed3d1c Downloading [=============================================>     ]  14.79MB/16.09MB
 ec5ce71252dd Downloading [======>                                            ]  4.329MB/36.01MB
 ec5ce71252dd Downloading [======>                                            ]  4.329MB/36.01MB
 ec5ce71252dd Downloading [======>                                            ]  4.329MB/36.01MB
 0b7256ed3d1c Verifying Checksum 
 0b7256ed3d1c Download complete 
 0b7256ed3d1c Download complete 
 0b7256ed3d1c Download complete 
 pingora Pulled 
 ec5ce71252dd Downloading [============>                                      ]  9.064MB/36.01MB
 ec5ce71252dd Downloading [============>                                      ]  9.064MB/36.01MB
 ec5ce71252dd Downloading [============>                                      ]  9.064MB/36.01MB
 ec5ce71252dd Downloading [====================>                              ]  14.92MB/36.01MB
 ec5ce71252dd Downloading [====================>                              ]  14.92MB/36.01MB
 ec5ce71252dd Downloading [====================>                              ]  14.92MB/36.01MB
 ec5ce71252dd Downloading [==============================>                    ]  21.82MB/36.01MB
 ec5ce71252dd Downloading [==============================>                    ]  21.82MB/36.01MB
 ec5ce71252dd Downloading [==============================>                    ]  21.82MB/36.01MB
 ec5ce71252dd Downloading [=======================================>           ]  28.71MB/36.01MB
 ec5ce71252dd Downloading [=======================================>           ]  28.71MB/36.01MB
 ec5ce71252dd Downloading [=======================================>           ]  28.71MB/36.01MB
 ec5ce71252dd Verifying Checksum 
 ec5ce71252dd Download complete 
 ec5ce71252dd Verifying Checksum 
 ec5ce71252dd Download complete 
 ec5ce71252dd Verifying Checksum 
 ec5ce71252dd Download complete 
 ec5ce71252dd Extracting [>                                                  ]  360.4kB/36.01MB
 ec5ce71252dd Extracting [>                                                  ]  360.4kB/36.01MB
 ec5ce71252dd Extracting [>                                                  ]  360.4kB/36.01MB
 ec5ce71252dd Extracting [=================>                                 ]  12.26MB/36.01MB
 ec5ce71252dd Extracting [=================>                                 ]  12.26MB/36.01MB
 ec5ce71252dd Extracting [=================>                                 ]  12.26MB/36.01MB
 ec5ce71252dd Extracting [==================================>                ]  24.87MB/36.01MB
 ec5ce71252dd Extracting [==================================>                ]  24.87MB/36.01MB
 ec5ce71252dd Extracting [==================================>                ]  24.87MB/36.01MB
 b2a16256baff Downloading [>                                                  ]  5.114kB/468.3kB
 b2a16256baff Downloading [>                                                  ]  5.114kB/468.3kB
 b2a16256baff Downloading [>                                                  ]  5.114kB/468.3kB
 b2a16256baff Downloading [==================================================>]  468.3kB/468.3kB
 b2a16256baff Downloading [==================================================>]  468.3kB/468.3kB
 b2a16256baff Downloading [==================================================>]  468.3kB/468.3kB
 b2a16256baff Verifying Checksum 
 b2a16256baff Downloading [==================================================>]  468.3kB/468.3kB
 b2a16256baff Verifying Checksum 
 b2a16256baff Download complete 
 b2a16256baff Download complete 
 b2a16256baff Verifying Checksum 
 b2a16256baff Download complete 
 ec5ce71252dd Extracting [==================================================>]  36.01MB/36.01MB
 ec5ce71252dd Extracting [==================================================>]  36.01MB/36.01MB
 ec5ce71252dd Extracting [==================================================>]  36.01MB/36.01MB
 ec5ce71252dd Pull complete 
 ec5ce71252dd Pull complete 
 ec5ce71252dd Pull complete 
 0b7256ed3d1c Extracting [>                                                  ]  163.8kB/16.09MB
 0b7256ed3d1c Extracting [>                                                  ]  163.8kB/16.09MB
 0b7256ed3d1c Extracting [>                                                  ]  163.8kB/16.09MB
 0b7256ed3d1c Extracting [===>                                               ]  1.147MB/16.09MB
 0b7256ed3d1c Extracting [===>                                               ]  1.147MB/16.09MB
 0b7256ed3d1c Extracting [===>                                               ]  1.147MB/16.09MB
 7fb88bb68678 Downloading [>                                                  ]  22.91kB/2.215MB
 7fb88bb68678 Download complete 
 0b7256ed3d1c Extracting [=====>                                             ]  1.802MB/16.09MB
 0b7256ed3d1c Extracting [=====>                                             ]  1.802MB/16.09MB
 0b7256ed3d1c Extracting [=====>                                             ]  1.802MB/16.09MB
 0b7256ed3d1c Extracting [========>                                          ]  2.621MB/16.09MB
 0b7256ed3d1c Extracting [========>                                          ]  2.621MB/16.09MB
 0b7256ed3d1c Extracting [========>                                          ]  2.621MB/16.09MB
 0b7256ed3d1c Extracting [======================>                            ]  7.209MB/16.09MB
 0b7256ed3d1c Extracting [======================>                            ]  7.209MB/16.09MB
 0b7256ed3d1c Extracting [======================>                            ]  7.209MB/16.09MB
 0b7256ed3d1c Extracting [=========================================>         ]  13.27MB/16.09MB
 0b7256ed3d1c Extracting [=========================================>         ]  13.27MB/16.09MB
 0b7256ed3d1c Extracting [=========================================>         ]  13.27MB/16.09MB
 0b7256ed3d1c Extracting [=============================================>     ]  14.58MB/16.09MB
 0b7256ed3d1c Extracting [=============================================>     ]  14.58MB/16.09MB
 0b7256ed3d1c Extracting [=============================================>     ]  14.58MB/16.09MB
 0b7256ed3d1c Extracting [==================================================>]  16.09MB/16.09MB
 0b7256ed3d1c Extracting [==================================================>]  16.09MB/16.09MB
 0b7256ed3d1c Extracting [==================================================>]  16.09MB/16.09MB
 0b7256ed3d1c Pull complete 
 0b7256ed3d1c Pull complete 
 0b7256ed3d1c Pull complete 
 b2a16256baff Extracting [===>                                               ]  32.77kB/468.3kB
 b2a16256baff Extracting [===>                                               ]  32.77kB/468.3kB
 b2a16256baff Extracting [===>                                               ]  32.77kB/468.3kB
 b2a16256baff Extracting [==================================================>]  468.3kB/468.3kB
 b2a16256baff Extracting [==================================================>]  468.3kB/468.3kB
 b2a16256baff Extracting [==================================================>]  468.3kB/468.3kB
 b2a16256baff Extracting [==================================================>]  468.3kB/468.3kB
 b2a16256baff Extracting [==================================================>]  468.3kB/468.3kB
 b2a16256baff Extracting [==================================================>]  468.3kB/468.3kB
 b2a16256baff Pull complete 
 b2a16256baff Pull complete 
 b2a16256baff Pull complete 
 7fb88bb68678 Extracting [>                                                  ]  32.77kB/2.215MB
 7fb88bb68678 Extracting [==================================================>]  2.215MB/2.215MB
 7fb88bb68678 Pull complete 
 consumer Pulled 
 675d115e4e29 Downloading [>                                                  ]  20.54kB/2.043MB
 675d115e4e29 Downloading [>                                                  ]  20.54kB/2.043MB
 675d115e4e29 Verifying Checksum 
 675d115e4e29 Download complete 
 675d115e4e29 Extracting [>                                                  ]  32.77kB/2.043MB
 675d115e4e29 Verifying Checksum 
 675d115e4e29 Download complete 
 675d115e4e29 Extracting [>                                                  ]  32.77kB/2.043MB
 675d115e4e29 Extracting [==================================================>]  2.043MB/2.043MB
 675d115e4e29 Extracting [==================================================>]  2.043MB/2.043MB
 675d115e4e29 Pull complete 
 675d115e4e29 Pull complete 
 app2 Pulled 
 app1 Pulled 
 Network luucaspole-crystal_backend  Creating
 Network luucaspole-crystal_backend  Created
 Container lavinmq  Creating
 Container lavinmq  Created
 Container luucaspole-crystal-consumer-1  Creating
 Container luucaspole-crystal-consumer-1  Created
 Container luucaspole-crystal-app1-1  Creating
 Container luucaspole-crystal-app2-1  Creating
 Container luucaspole-crystal-app2-1  Created
 Container luucaspole-crystal-app1-1  Created
 Container luucaspole-crystal-pingora-1  Creating
 Container luucaspole-crystal-pingora-1  Created
Attaching to lavinmq, app1-1, app2-1, consumer-1, pingora-1
lavinmq     | WARNING: 'guest_only_loopback' is deprecated, use '--default-user-only-loopback' instead
lavinmq     | WARNING: 'guest_only_loopback' is deprecated, use '--default-user-only-loopback' instead
lavinmq     | 2025-07-26T21:05:45.687756Z  INFO lmq[level: "Info", target: "stdout"] Logger settings
lavinmq     | 2025-07-26T21:05:45.688261Z  INFO lmq.launcher LavinMQ 2.4.0
lavinmq     | 2025-07-26T21:05:45.688261Z  INFO lmq.launcher Crystal 1.16.3 (2025-05-12)
lavinmq     | 2025-07-26T21:05:45.688262Z  INFO lmq.launcher LLVM: 18.1.3
lavinmq     | 2025-07-26T21:05:45.688262Z  INFO lmq.launcher Default target: x86_64-pc-linux-gnu
lavinmq     | 2025-07-26T21:05:45.688262Z  INFO lmq.launcher Build flags: --release --debug
lavinmq     | 2025-07-26T21:05:45.688263Z  INFO lmq.launcher Multithreading: 4 threads
lavinmq     | 2025-07-26T21:05:45.688265Z  INFO lmq.launcher Pid: 1
lavinmq     | 2025-07-26T21:05:45.688266Z  INFO lmq.launcher Data directory: /var/lib/lavinmq
lavinmq     | 2025-07-26T21:05:45.688307Z  INFO lmq.launcher Max mmap count: 65530
lavinmq     | 2025-07-26T21:05:45.688307Z  WARN lmq.launcher The max mmap count limit is very low, consider raising it.
lavinmq     | 2025-07-26T21:05:45.688307Z  WARN lmq.launcher The limits should be higher than the maximum of # connections * 2 + # consumer * 2 + # queues * 4
lavinmq     | 2025-07-26T21:05:45.688307Z  WARN lmq.launcher sysctl -w vm.max_map_count=1000000
lavinmq     | 2025-07-26T21:05:45.688311Z  INFO lmq.launcher FD limit: 1048576
lavinmq     | 2025-07-26T21:05:45.703696Z  INFO lmq.vhost[vhost: "/"] Loading default definitions
lavinmq     | 2025-07-26T21:05:45.703723Z  INFO lmq.vhost[vhost: "/"] Compacting definitions
lavinmq     | 2025-07-26T21:05:45.788803Z  INFO lmq.vhost_store Created vhost /
lavinmq     | 2025-07-26T21:05:45.795784Z  INFO lmq.http.server Bound to 0.0.0.0:15672
lavinmq     | 2025-07-26T21:05:45.795910Z  INFO lmq.http.server Bound to /tmp/lavinmqctl.sock
lavinmq     | 2025-07-26T21:05:45.796608Z  INFO lmq.server Listening for AMQP on 0.0.0.0:5672
lavinmq     | 2025-07-26T21:05:45.796662Z  INFO lmq.server Listening for MQTT on 0.0.0.0:1883
lavinmq     | 2025-07-26T21:05:45.796703Z  INFO lmq.launcher Finished startup in 0.108323011s
lavinmq     | 2025-07-26T21:05:48.439537Z  INFO lmq.amqp.client[vhost: "/", address: "172.20.0.3:60540", name: "consumer"] Connection established for user=guest
lavinmq     | 2025-07-26T21:05:48.441324Z  INFO lmq.message_store[queue: "default", vhost: "/"] Loaded 1 segments, 0 messages
lavinmq     | 2025-07-26T21:05:48.442850Z  INFO lmq.message_store[queue: "fallback", vhost: "/"] Loaded 1 segments, 0 messages
consumer-1  | 2025-07-26T21:05:48.443609Z   INFO - Starting Kemal server
consumer-1  | 2025-07-26T21:05:48.443860Z   INFO - kemal: [development] Kemal is ready to lead at http:///dev/shm/1.sock
consumer-1  | 2025-07-26T21:05:48.444271Z   INFO - Listening for messages on AMQP queue: processor:queue:1
lavinmq     | 2025-07-26T21:05:48.458522Z  INFO lmq.message_store[queue: "processor:queue:1", vhost: "/"] Loaded 1 segments, 0 messages
lavinmq     | 2025-07-26T21:05:49.347033Z  INFO lmq.amqp.client[vhost: "/", address: "172.20.0.4:44706", name: "server"] Connection established for user=guest
app1-1      | 2025-07-26T21:05:49.360365Z   INFO - HTTP Server running on port 9999
app1-1      | 2025-07-26T21:05:49.360373Z   INFO - GET /payment-summary - Get payment summary
app1-1      | 2025-07-26T21:05:49.360373Z   INFO - POST /payments - Create a new payment
app1-1      | 2025-07-26T21:05:49.360622Z   INFO - HTTP Server running on socket /dev/shm/app1.sock
app1-1      | 2025-07-26T21:05:49.360652Z   INFO - kemal: [development] Kemal is ready to lead at http:///dev/shm/app1.sock
lavinmq     | 2025-07-26T21:05:49.387165Z  INFO lmq.amqp.client[vhost: "/", address: "172.20.0.5:54732", name: "server"] Connection established for user=guest
app2-1      | 2025-07-26T21:05:49.387631Z   INFO - HTTP Server running on port 9999
app2-1      | 2025-07-26T21:05:49.387638Z   INFO - GET /payment-summary - Get payment summary
app2-1      | 2025-07-26T21:05:49.387639Z   INFO - POST /payments - Create a new payment
app2-1      | 2025-07-26T21:05:49.388030Z   INFO - HTTP Server running on socket /dev/shm/app2.sock
app2-1      | 2025-07-26T21:05:49.388051Z   INFO - kemal: [development] Kemal is ready to lead at http:///dev/shm/app2.sock
consumer-1  | 2025-07-26T21:05:51.890613Z   INFO - kemal: 200 GET /payments-summary 77.65µs
consumer-1  | 2025-07-26T21:05:57.918107Z   INFO - kemal: 200 GET /payments-summary?from=2025-07-26T21:05:47.912Z&to=2025-07-26T21:05:57.812Z 74.83µs
consumer-1  | 2025-07-26T21:06:08.003066Z   INFO - kemal: 200 GET /payments-summary?from=2025-07-26T21:05:58.001Z&to=2025-07-26T21:06:07.901Z 111.45µs
consumer-1  | 2025-07-26T21:06:18.007296Z   INFO - kemal: 200 GET /payments-summary?from=2025-07-26T21:06:08.006Z&to=2025-07-26T21:06:17.906Z 107.07µs
consumer-1  | 2025-07-26T21:06:28.012203Z   INFO - kemal: 200 GET /payments-summary?from=2025-07-26T21:06:18.011Z&to=2025-07-26T21:06:27.911Z 95.59µs
consumer-1  | 2025-07-26T21:06:38.018469Z   INFO - kemal: 200 GET /payments-summary?from=2025-07-26T21:06:28.015Z&to=2025-07-26T21:06:37.915Z 84.18µs
consumer-1  | 2025-07-26T21:06:48.021287Z   INFO - kemal: 200 GET /payments-summary?from=2025-07-26T21:06:38.020Z&to=2025-07-26T21:06:47.920Z 151.83µs
pingora-1   | [2025-07-26T21:06:57Z ERROR pingora_proxy] Fail to proxy: Downstream ReadTimedout context: timeout: 60s
consumer-1  | 2025-07-26T21:06:58.921564Z   INFO - kemal: 200 GET /payments-summary?from=2025-07-26T21:05:48.900Z&to=2025-07-26T21:06:58.900Z 955.57µs
[Kpingora-1 exited with code 137
app1-1      | 2025-07-26T21:07:09.716452Z   INFO - kemal: Kemal is going to take a rest!
lavinmq     | 2025-07-26T21:07:09.717598Z  INFO lmq.amqp.client[vhost: "/", address: "172.20.0.4:44706", name: "server"] Connection disconnected for user=guest
lavinmq     | 2025-07-26T21:07:09.725526Z  INFO lmq.amqp.client[vhost: "/", address: "172.20.0.5:54732", name: "server"] Connection disconnected for user=guest
app2-1      | 2025-07-26T21:07:09.724551Z   INFO - kemal: Kemal is going to take a rest!
[Kapp2-1 exited with code 0
consumer-1  | 2025-07-26T21:07:10.336745Z   INFO - kemal: Kemal is going to take a rest!
lavinmq     | 2025-07-26T21:07:10.338522Z  INFO lmq.amqp.client[vhost: "/", address: "172.20.0.3:60540", name: "consumer"] Connection disconnected for user=guest
[Kconsumer-1 exited with code 0
lavinmq     | 2025-07-26T21:07:10.883002Z  WARN lmq.launcher Stopping
lavinmq     | 2025-07-26T21:07:10.883113Z  INFO lmq.vhost[vhost: "/"] Closing connections
lavinmq     | 2025-07-26T21:07:10.883129Z  INFO lmq.vhost[vhost: "/"] All connections closed gracefully
lavinmq     | 2025-07-26T21:07:10.883518Z  INFO lmq.queue[queue: "default", vhost: "/"] (messages=0) Deleted
lavinmq     | 2025-07-26T21:07:10.883802Z  INFO lmq.queue[queue: "fallback", vhost: "/"] (messages=0) Deleted
lavinmq     | 2025-07-26T21:07:10.884571Z  INFO lmq.queue[queue: "processor:queue:1", vhost: "/"] (messages=0) Deleted
lavinmq     | 2025-07-26T21:07:10.884732Z  INFO lmq.launcher Fibers: 
lavinmq     | 2025-07-26T21:07:10.884734Z  INFO lmq.launcher #<Fiber:0x7f4cbc3f4f00: main>
lavinmq     | 2025-07-26T21:07:10.884735Z  INFO lmq.launcher #<Fiber:0x7f4cbc3f4c00: DEFAULT:loop>
lavinmq     | 2025-07-26T21:07:10.884736Z  INFO lmq.launcher #<Fiber:0x7f4cbc3f4b40: main>
lavinmq     | 2025-07-26T21:07:10.884737Z  INFO lmq.launcher #<Fiber:0x7f4cbc3f49c0: signal-loop>
lavinmq     | 2025-07-26T21:07:10.884738Z  INFO lmq.launcher #<Fiber:0x7f4cbc3f4540>
lavinmq     | 2025-07-26T21:07:10.884738Z  INFO lmq.launcher #<Fiber:0x7f4cbc3f4480>
lavinmq     | 2025-07-26T21:07:10.884738Z  INFO lmq.launcher #<Fiber:0x7f4cbc3f43c0: RoughTime>
lavinmq     | 2025-07-26T21:07:10.884739Z  INFO lmq.launcher #<Fiber:0x7f4cb9a91c00: Consumer timeouts loop>
lavinmq     | 2025-07-26T21:07:10.884739Z  INFO lmq.launcher #<Fiber:0x7f4cb9a91840: Server#stats_loop>
lavinmq     | 2025-07-26T21:07:10.884740Z  INFO lmq.launcher #<Fiber:0x7f4cb9b37d80>
[Klavinmq exited with code 0
log truncated at line 1000
