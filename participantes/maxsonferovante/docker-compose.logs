
 app-native-1 Pulling 
 app-native-2 Pulling 
 async-worker Pulling 
 async-worker-2 Pulling 
 async-worker-2 Pulled 
 app-native-2 Pulled 
 async-worker Pulled 
 app-native-1 Pulled 
 Network backend  Creating
 Network backend  Created
 Container maxsonferovante-redis-1  Creating
 Container maxsonferovante-redis-1  Created
 Container maxsonferovante-async-worker-2-1  Creating
 Container maxsonferovante-app-native-2-1  Creating
 Container maxsonferovante-app-native-1-1  Creating
 Container maxsonferovante-async-worker-1  Creating
 Container maxsonferovante-app-native-2-1  Created
 Container maxsonferovante-app-native-1-1  Created
 Container maxsonferovante-async-worker-2-1  Created
 Container maxsonferovante-nginx-1  Creating
 Container maxsonferovante-async-worker-1  Created
 Container maxsonferovante-nginx-1  Created
Attaching to app-native-1-1, app-native-2-1, async-worker-1, async-worker-2-1, nginx-1, redis-1
redis-1           | 1:C 26 Jul 2025 21:13:08.944 # WARNING Memory overcommit must be enabled! Without it, a background save or replication may fail under low memory condition. Being disabled, it can also cause failures without low memory condition, see https://github.com/jemalloc/jemalloc/issues/1328. To fix this issue add 'vm.overcommit_memory = 1' to /etc/sysctl.conf and then reboot or run the command 'sysctl vm.overcommit_memory=1' for this to take effect.
redis-1           | 1:C 26 Jul 2025 21:13:08.944 * oO0OoO0OoO0Oo Redis is starting oO0OoO0OoO0Oo
redis-1           | 1:C 26 Jul 2025 21:13:08.944 * Redis version=7.4.5, bits=64, commit=00000000, modified=0, pid=1, just started
redis-1           | 1:C 26 Jul 2025 21:13:08.944 # Warning: no config file specified, using the default config. In order to specify a config file use redis-server /path/to/redis.conf
redis-1           | 1:M 26 Jul 2025 21:13:08.945 * monotonic clock: POSIX clock_gettime
redis-1           | 1:M 26 Jul 2025 21:13:08.945 * Running mode=standalone, port=6379.
redis-1           | 1:M 26 Jul 2025 21:13:08.946 * Server initialized
redis-1           | 1:M 26 Jul 2025 21:13:08.946 * Ready to accept connections tcp
async-worker-1    | 2025-07-26T21:13:15.090Z  INFO 1 --- [AsyncPaymentProcessor] [           main] c.m.a.AsyncPaymentProcessorApplication   : Starting AOT-processed AsyncPaymentProcessorApplication using Java 24.0.2 with PID 1 (/app/app started by appuser in /app)
async-worker-1    | 2025-07-26T21:13:15.091Z  INFO 1 --- [AsyncPaymentProcessor] [           main] c.m.a.AsyncPaymentProcessorApplication   : No active profile set, falling back to 1 default profile: "default"
app-native-1-1    | 2025-07-26T21:13:15.095Z  INFO 1 --- [ApiPaymentProcessor] [           main] c.m.a.ApiPaymentProcessorApplication     : Starting AOT-processed ApiPaymentProcessorApplication using Java 24.0.2 with PID 1 (/app/app started by appuser in /app)
app-native-1-1    | 2025-07-26T21:13:15.095Z  INFO 1 --- [ApiPaymentProcessor] [           main] c.m.a.ApiPaymentProcessorApplication     : No active profile set, falling back to 1 default profile: "default"
async-worker-1    | WARNING: A terminally deprecated method in sun.misc.Unsafe has been called
async-worker-1    | WARNING: sun.misc.Unsafe::allocateMemory has been called by io.netty.util.internal.PlatformDependent0$2 (file:/app/app)
async-worker-1    | WARNING: Please consider reporting this to the maintainers of class io.netty.util.internal.PlatformDependent0$2
async-worker-1    | WARNING: sun.misc.Unsafe::allocateMemory will be removed in a future release
app-native-1-1    | 2025-07-26T21:13:15.121Z  INFO 1 --- [ApiPaymentProcessor] [           main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8089 (http)
app-native-1-1    | 2025-07-26T21:13:15.123Z  INFO 1 --- [ApiPaymentProcessor] [           main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
app-native-1-1    | 2025-07-26T21:13:15.123Z  INFO 1 --- [ApiPaymentProcessor] [           main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.42]
app-native-2-1    | 2025-07-26T21:13:15.192Z  INFO 1 --- [ApiPaymentProcessor] [           main] c.m.a.ApiPaymentProcessorApplication     : Starting AOT-processed ApiPaymentProcessorApplication using Java 24.0.2 with PID 1 (/app/app started by appuser in /app)
app-native-2-1    | 2025-07-26T21:13:15.198Z  INFO 1 --- [ApiPaymentProcessor] [           main] c.m.a.ApiPaymentProcessorApplication     : No active profile set, falling back to 1 default profile: "default"
async-worker-2-1  | 2025-07-26T21:13:15.194Z  INFO 1 --- [AsyncPaymentProcessor] [           main] c.m.a.AsyncPaymentProcessorApplication   : Starting AOT-processed AsyncPaymentProcessorApplication using Java 24.0.2 with PID 1 (/app/app started by appuser in /app)
async-worker-2-1  | 2025-07-26T21:13:15.194Z  INFO 1 --- [AsyncPaymentProcessor] [           main] c.m.a.AsyncPaymentProcessorApplication   : No active profile set, falling back to 1 default profile: "default"
app-native-1-1    | 2025-07-26T21:13:15.203Z  INFO 1 --- [ApiPaymentProcessor] [           main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
app-native-1-1    | 2025-07-26T21:13:15.203Z  INFO 1 --- [ApiPaymentProcessor] [           main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 108 ms
async-worker-2-1  | WARNING: A terminally deprecated method in sun.misc.Unsafe has been called
async-worker-2-1  | WARNING: sun.misc.Unsafe::allocateMemory has been called by io.netty.util.internal.PlatformDependent0$2 (file:/app/app)
async-worker-2-1  | WARNING: Please consider reporting this to the maintainers of class io.netty.util.internal.PlatformDependent0$2
async-worker-2-1  | WARNING: sun.misc.Unsafe::allocateMemory will be removed in a future release
app-native-1-1    | WARNING: A terminally deprecated method in sun.misc.Unsafe has been called
app-native-1-1    | WARNING: sun.misc.Unsafe::allocateMemory has been called by io.netty.util.internal.PlatformDependent0$2 (file:/app/app)
app-native-1-1    | WARNING: Please consider reporting this to the maintainers of class io.netty.util.internal.PlatformDependent0$2
app-native-1-1    | WARNING: sun.misc.Unsafe::allocateMemory will be removed in a future release
app-native-2-1    | 2025-07-26T21:13:15.221Z  INFO 1 --- [ApiPaymentProcessor] [           main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8089 (http)
app-native-2-1    | 2025-07-26T21:13:15.286Z  INFO 1 --- [ApiPaymentProcessor] [           main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
app-native-2-1    | 2025-07-26T21:13:15.286Z  INFO 1 --- [ApiPaymentProcessor] [           main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.42]
app-native-2-1    | 2025-07-26T21:13:15.303Z  INFO 1 --- [ApiPaymentProcessor] [           main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
app-native-2-1    | 2025-07-26T21:13:15.303Z  INFO 1 --- [ApiPaymentProcessor] [           main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 105 ms
app-native-2-1    | WARNING: A terminally deprecated method in sun.misc.Unsafe has been called
app-native-2-1    | WARNING: sun.misc.Unsafe::allocateMemory has been called by io.netty.util.internal.PlatformDependent0$2 (file:/app/app)
app-native-2-1    | WARNING: Please consider reporting this to the maintainers of class io.netty.util.internal.PlatformDependent0$2
app-native-2-1    | WARNING: sun.misc.Unsafe::allocateMemory will be removed in a future release
app-native-1-1    | 2025-07-26T21:13:15.413Z  INFO 1 --- [ApiPaymentProcessor] [           main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8089 (http) with context path '/'
app-native-1-1    | 2025-07-26T21:13:15.413Z  INFO 1 --- [ApiPaymentProcessor] [           main] c.m.a.ApiPaymentProcessorApplication     : Started ApiPaymentProcessorApplication in 0.378 seconds (process running for 0.402)
async-worker-1    | 2025-07-26T21:13:15.421Z  INFO 1 --- [AsyncPaymentProcessor] [           main] o.s.i.endpoint.EventDrivenConsumer       : Adding {logging-channel-adapter:_org.springframework.integration.errorLogger} as a subscriber to the 'errorChannel' channel
async-worker-1    | 2025-07-26T21:13:15.421Z  INFO 1 --- [AsyncPaymentProcessor] [           main] o.s.i.channel.PublishSubscribeChannel    : Channel 'AsyncPaymentProcessor.errorChannel' has 1 subscriber(s).
async-worker-1    | 2025-07-26T21:13:15.422Z  INFO 1 --- [AsyncPaymentProcessor] [           main] o.s.i.endpoint.EventDrivenConsumer       : started bean '_org.springframework.integration.errorLogger'
nginx-1           | /docker-entrypoint.sh: /docker-entrypoint.d/ is not empty, will attempt to perform configuration
nginx-1           | /docker-entrypoint.sh: Looking for shell scripts in /docker-entrypoint.d/
nginx-1           | /docker-entrypoint.sh: Launching /docker-entrypoint.d/10-listen-on-ipv6-by-default.sh
nginx-1           | 10-listen-on-ipv6-by-default.sh: info: Getting the checksum of /etc/nginx/conf.d/default.conf
nginx-1           | 10-listen-on-ipv6-by-default.sh: info: Enabled listen on IPv6 in /etc/nginx/conf.d/default.conf
nginx-1           | /docker-entrypoint.sh: Sourcing /docker-entrypoint.d/15-local-resolvers.envsh
nginx-1           | /docker-entrypoint.sh: Launching /docker-entrypoint.d/20-envsubst-on-templates.sh
nginx-1           | /docker-entrypoint.sh: Launching /docker-entrypoint.d/30-tune-worker-processes.sh
nginx-1           | /docker-entrypoint.sh: Configuration complete; ready for start up
async-worker-1    | 2025-07-26T21:13:15.502Z  INFO 1 --- [AsyncPaymentProcessor] [           main] c.m.a.AsyncPaymentProcessorApplication   : Started AsyncPaymentProcessorApplication in 0.488 seconds (process running for 0.537)
app-native-2-1    | 2025-07-26T21:13:15.686Z  INFO 1 --- [ApiPaymentProcessor] [           main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8089 (http) with context path '/'
app-native-2-1    | 2025-07-26T21:13:15.687Z  INFO 1 --- [ApiPaymentProcessor] [           main] c.m.a.ApiPaymentProcessorApplication     : Started ApiPaymentProcessorApplication in 0.553 seconds (process running for 0.56)
async-worker-1    | WARNING: A restricted method in java.lang.System has been called
async-worker-1    | WARNING: java.lang.System::loadLibrary has been called by io.netty.util.internal.NativeLibraryUtil in an unnamed module (file:/app/app)
async-worker-1    | WARNING: Use --enable-native-access=ALL-UNNAMED to avoid a warning for callers in this module
async-worker-1    | WARNING: Restricted methods will be blocked in a future release unless native access is enabled
async-worker-1    | 
async-worker-2-1  | 2025-07-26T21:13:15.703Z  INFO 1 --- [AsyncPaymentProcessor] [           main] o.s.i.endpoint.EventDrivenConsumer       : Adding {logging-channel-adapter:_org.springframework.integration.errorLogger} as a subscriber to the 'errorChannel' channel
async-worker-2-1  | 2025-07-26T21:13:15.703Z  INFO 1 --- [AsyncPaymentProcessor] [           main] o.s.i.channel.PublishSubscribeChannel    : Channel 'AsyncPaymentProcessor.errorChannel' has 1 subscriber(s).
async-worker-2-1  | 2025-07-26T21:13:15.703Z  INFO 1 --- [AsyncPaymentProcessor] [           main] o.s.i.endpoint.EventDrivenConsumer       : started bean '_org.springframework.integration.errorLogger'
async-worker-2-1  | 2025-07-26T21:13:15.792Z  INFO 1 --- [AsyncPaymentProcessor] [           main] c.m.a.AsyncPaymentProcessorApplication   : Started AsyncPaymentProcessorApplication in 0.696 seconds (process running for 0.705)
async-worker-2-1  | WARNING: A restricted method in java.lang.System has been called
async-worker-2-1  | WARNING: java.lang.System::loadLibrary has been called by io.netty.util.internal.NativeLibraryUtil in an unnamed module (file:/app/app)
async-worker-2-1  | WARNING: Use --enable-native-access=ALL-UNNAMED to avoid a warning for callers in this module
async-worker-2-1  | WARNING: Restricted methods will be blocked in a future release unless native access is enabled
async-worker-2-1  | 
app-native-1-1    | 2025-07-26T21:13:16.352Z  INFO 1 --- [ApiPaymentProcessor] [omcat-handler-0] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
app-native-1-1    | 2025-07-26T21:13:16.352Z  INFO 1 --- [ApiPaymentProcessor] [omcat-handler-0] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
app-native-1-1    | 2025-07-26T21:13:16.353Z  INFO 1 --- [ApiPaymentProcessor] [omcat-handler-0] o.s.web.servlet.DispatcherServlet        : Completed initialization in 1 ms
app-native-1-1    | WARNING: A restricted method in java.lang.System has been called
app-native-1-1    | WARNING: java.lang.System::loadLibrary has been called by io.netty.util.internal.NativeLibraryUtil in an unnamed module (file:/app/app)
app-native-1-1    | WARNING: Use --enable-native-access=ALL-UNNAMED to avoid a warning for callers in this module
app-native-1-1    | WARNING: Restricted methods will be blocked in a future release unless native access is enabled
app-native-1-1    | 
async-worker-2-1  | 2025-07-26T21:13:19.996Z  WARN 1 --- [AsyncPaymentProcessor] [       Thread-0] c.m.a.a.o.p.PaymentProcessorHttpClient   : Timeout no health check DEFAULT: request timed out
async-worker-2-1  | 2025-07-26T21:13:19.997Z  WARN 1 --- [AsyncPaymentProcessor] [       Thread-0] c.m.a.a.s.HealthCheckOrchestratorImpl    : Não foi possível obter health status do Payment Processor: DEFAULT
async-worker-2-1  | 2025-07-26T21:13:19.997Z  WARN 1 --- [AsyncPaymentProcessor] [       Thread-1] c.m.a.a.o.p.PaymentProcessorHttpClient   : Timeout no health check FALLBACK: request timed out
async-worker-2-1  | 2025-07-26T21:13:19.997Z  WARN 1 --- [AsyncPaymentProcessor] [       Thread-1] c.m.a.a.s.HealthCheckOrchestratorImpl    : Não foi possível obter health status do Payment Processor: FALLBACK
app-native-2-1    | 2025-07-26T21:13:22.514Z  INFO 1 --- [ApiPaymentProcessor] [omcat-handler-0] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
app-native-2-1    | 2025-07-26T21:13:22.514Z  INFO 1 --- [ApiPaymentProcessor] [omcat-handler-0] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
app-native-2-1    | 2025-07-26T21:13:22.515Z  INFO 1 --- [ApiPaymentProcessor] [omcat-handler-0] o.s.web.servlet.DispatcherServlet        : Completed initialization in 1 ms
app-native-2-1    | WARNING: A restricted method in java.lang.System has been called
app-native-2-1    | WARNING: java.lang.System::loadLibrary has been called by io.netty.util.internal.NativeLibraryUtil in an unnamed module (file:/app/app)
app-native-2-1    | WARNING: Use --enable-native-access=ALL-UNNAMED to avoid a warning for callers in this module
app-native-2-1    | WARNING: Restricted methods will be blocked in a future release unless native access is enabled
app-native-2-1    | 
app-native-2-1    | 2025-07-26T21:13:22.783Z  INFO 1 --- [ApiPaymentProcessor] [omcat-handler-0] c.m.a.a.service.PaymentSummaryService    : Listas de histórico de pagamento foram limpas do Redis.
async-worker-2-1  | 2025-07-26T21:14:05.399Z  WARN 1 --- [AsyncPaymentProcessor] [      Thread-10] c.m.a.a.o.p.PaymentProcessorHttpClient   : Timeout no health check DEFAULT: request timed out
async-worker-2-1  | 2025-07-26T21:14:05.399Z  WARN 1 --- [AsyncPaymentProcessor] [      Thread-10] c.m.a.a.s.HealthCheckOrchestratorImpl    : Não foi possível obter health status do Payment Processor: DEFAULT
async-worker-2-1  | 2025-07-26T21:14:05.400Z  WARN 1 --- [AsyncPaymentProcessor] [      Thread-11] c.m.a.a.o.p.PaymentProcessorHttpClient   : Timeout no health check FALLBACK: request timed out
async-worker-2-1  | 2025-07-26T21:14:05.400Z  WARN 1 --- [AsyncPaymentProcessor] [      Thread-11] c.m.a.a.s.HealthCheckOrchestratorImpl    : Não foi possível obter health status do Payment Processor: FALLBACK
redis-1           | 1:M 26 Jul 2025 21:14:09.005 * 10000 changes in 60 seconds. Saving...
redis-1           | 1:M 26 Jul 2025 21:14:09.005 * Background saving started by pid 87
redis-1           | 87:C 26 Jul 2025 21:14:09.033 * DB saved on disk
redis-1           | 87:C 26 Jul 2025 21:14:09.034 * Fork CoW for RDB: current 0 MB, peak 0 MB, average 0 MB
redis-1           | 1:M 26 Jul 2025 21:14:09.106 * Background saving terminated with success
async-worker-2-1  | 2025-07-26T21:14:20.483Z ERROR 1 --- [AsyncPaymentProcessor] [   virtual-6547] c.m.a.a.o.p.PaymentProcessorHttpClient   : Timeout processando pagamento 3d21082c-e656-43bc-91c9-5f312478e933 via FALLBACK: request timed out
async-worker-2-1  | 2025-07-26T21:14:20.484Z ERROR 1 --- [AsyncPaymentProcessor] [   virtual-6548] c.m.a.a.o.p.PaymentProcessorHttpClient   : Timeout processando pagamento e2edbdeb-ecee-40aa-8b42-b7ed7c243883 via FALLBACK: request timed out
async-worker-2-1  | 2025-07-26T21:14:20.484Z ERROR 1 --- [AsyncPaymentProcessor] [   virtual-6549] c.m.a.a.o.p.PaymentProcessorHttpClient   : Timeout processando pagamento 3a9cc829-0a69-4576-aa42-b431832653b2 via FALLBACK: request timed out
async-worker-2-1  | 2025-07-26T21:14:20.484Z ERROR 1 --- [AsyncPaymentProcessor] [   virtual-6550] c.m.a.a.o.p.PaymentProcessorHttpClient   : Timeout processando pagamento b16b262f-07fb-4d69-9ddf-e4392bfaf1c7 via FALLBACK: request timed out
async-worker-2-1  | 2025-07-26T21:14:20.485Z ERROR 1 --- [AsyncPaymentProcessor] [   virtual-6551] c.m.a.a.o.p.PaymentProcessorHttpClient   : Timeout processando pagamento 794125ae-56ee-4728-a659-6140b653ecaf via FALLBACK: request timed out
async-worker-2-1  | 2025-07-26T21:14:20.485Z ERROR 1 --- [AsyncPaymentProcessor] [   virtual-6552] c.m.a.a.o.p.PaymentProcessorHttpClient   : Timeout processando pagamento 553122f3-7f11-4cf4-8daa-c2148eac51e0 via FALLBACK: request timed out
async-worker-2-1  | 2025-07-26T21:14:20.485Z ERROR 1 --- [AsyncPaymentProcessor] [   virtual-6553] c.m.a.a.o.p.PaymentProcessorHttpClient   : Timeout processando pagamento 993e6d2b-3db9-43c7-b350-0f95227d1e33 via FALLBACK: request timed out
async-worker-2-1  | 2025-07-26T21:14:20.485Z ERROR 1 --- [AsyncPaymentProcessor] [   virtual-6555] c.m.a.a.o.p.PaymentProcessorHttpClient   : Timeout processando pagamento ff5cafe6-16dd-4d86-b126-6b0dc3aacb73 via FALLBACK: request timed out
async-worker-2-1  | 2025-07-26T21:14:20.485Z ERROR 1 --- [AsyncPaymentProcessor] [   virtual-6556] c.m.a.a.o.p.PaymentProcessorHttpClient   : Timeout processando pagamento 186ae0c5-6ed9-4bd8-8308-1e5971246da1 via FALLBACK: request timed out
async-worker-2-1  | 2025-07-26T21:14:20.485Z ERROR 1 --- [AsyncPaymentProcessor] [   virtual-6554] c.m.a.a.o.p.PaymentProcessorHttpClient   : Timeout processando pagamento 91afe6e5-6b95-46b9-9346-0e875176fce7 via FALLBACK: request timed out
async-worker-2-1  | 2025-07-26T21:14:20.485Z ERROR 1 --- [AsyncPaymentProcessor] [   virtual-6557] c.m.a.a.o.p.PaymentProcessorHttpClient   : Timeout processando pagamento b694851a-762a-4c49-8e2c-76ccf8c406b4 via FALLBACK: request timed out
async-worker-2-1  | 2025-07-26T21:14:20.485Z ERROR 1 --- [AsyncPaymentProcessor] [   virtual-6558] c.m.a.a.o.p.PaymentProcessorHttpClient   : Timeout processando pagamento b50c3a13-4475-42f2-b184-a0e42ba58be2 via FALLBACK: request timed out
async-worker-2-1  | 2025-07-26T21:14:20.488Z ERROR 1 --- [AsyncPaymentProcessor] [   virtual-6559] c.m.a.a.o.p.PaymentProcessorHttpClient   : Timeout processando pagamento a14c9926-4431-4a7d-971d-fce417f8b47f via FALLBACK: request timed out
async-worker-2-1  | 2025-07-26T21:14:20.489Z ERROR 1 --- [AsyncPaymentProcessor] [   virtual-6560] c.m.a.a.o.p.PaymentProcessorHttpClient   : Timeout processando pagamento d5dddfe2-703e-416e-9c64-7ca5583b849c via FALLBACK: request timed out
async-worker-2-1  | 2025-07-26T21:14:20.490Z ERROR 1 --- [AsyncPaymentProcessor] [   virtual-6561] c.m.a.a.o.p.PaymentProcessorHttpClient   : Timeout processando pagamento 77421740-4c39-4f92-9896-e1d9d8ecee48 via FALLBACK: request timed out
async-worker-2-1  | 2025-07-26T21:14:20.490Z ERROR 1 --- [AsyncPaymentProcessor] [   virtual-6563] c.m.a.a.o.p.PaymentProcessorHttpClient   : Timeout processando pagamento 4ab8816a-81b9-4e7f-b97b-d3f9e70d2976 via FALLBACK: request timed out
async-worker-2-1  | 2025-07-26T21:14:20.490Z ERROR 1 --- [AsyncPaymentProcessor] [   virtual-6562] c.m.a.a.o.p.PaymentProcessorHttpClient   : Timeout processando pagamento 96afb91e-c454-4030-96db-bdf29831ed9f via FALLBACK: request timed out
async-worker-2-1  | 2025-07-26T21:14:20.490Z ERROR 1 --- [AsyncPaymentProcessor] [   virtual-6564] c.m.a.a.o.p.PaymentProcessorHttpClient   : Timeout processando pagamento c4c82ef7-6077-42e3-90dc-3378c0946225 via FALLBACK: request timed out
async-worker-2-1  | 2025-07-26T21:14:20.490Z ERROR 1 --- [AsyncPaymentProcessor] [   virtual-6565] c.m.a.a.o.p.PaymentProcessorHttpClient   : Timeout processando pagamento 7a867c9d-3495-4564-9529-bf6f7c2f8754 via FALLBACK: request timed out
async-worker-2-1  | 2025-07-26T21:14:20.490Z ERROR 1 --- [AsyncPaymentProcessor] [   virtual-6566] c.m.a.a.o.p.PaymentProcessorHttpClient   : Timeout processando pagamento 29b160de-bd65-4c3e-af64-96b9359aa7cf via FALLBACK: request timed out
async-worker-2-1  | 2025-07-26T21:14:20.490Z ERROR 1 --- [AsyncPaymentProcessor] [   virtual-6567] c.m.a.a.o.p.PaymentProcessorHttpClient   : Timeout processando pagamento 85217b84-691e-46d5-b948-87de4cacbda8 via FALLBACK: request timed out
async-worker-2-1  | 2025-07-26T21:14:20.491Z ERROR 1 --- [AsyncPaymentProcessor] [   virtual-6568] c.m.a.a.o.p.PaymentProcessorHttpClient   : Timeout processando pagamento 5072f5d2-9522-4706-9d70-68a8bb17a978 via FALLBACK: request timed out
async-worker-2-1  | 2025-07-26T21:14:20.492Z ERROR 1 --- [AsyncPaymentProcessor] [   virtual-6569] c.m.a.a.o.p.PaymentProcessorHttpClient   : Timeout processando pagamento 2101d4e9-2e35-40be-bdc8-1b03cbd8de9c via FALLBACK: request timed out
async-worker-2-1  | 2025-07-26T21:14:20.492Z ERROR 1 --- [AsyncPaymentProcessor] [   virtual-6570] c.m.a.a.o.p.PaymentProcessorHttpClient   : Timeout processando pagamento 6231b087-5ebe-438f-b25c-003e4763ce4f via FALLBACK: request timed out
async-worker-2-1  | 2025-07-26T21:14:20.492Z ERROR 1 --- [AsyncPaymentProcessor] [   virtual-6572] c.m.a.a.o.p.PaymentProcessorHttpClient   : Timeout processando pagamento 7fa26848-e38c-402a-ac0b-a7eb39c2527e via FALLBACK: request timed out
async-worker-2-1  | 2025-07-26T21:14:20.492Z ERROR 1 --- [AsyncPaymentProcessor] [   virtual-6573] c.m.a.a.o.p.PaymentProcessorHttpClient   : Timeout processando pagamento cc002cc4-edf8-462c-8df5-1c95ccce58f0 via FALLBACK: request timed out
async-worker-2-1  | 2025-07-26T21:14:20.493Z ERROR 1 --- [AsyncPaymentProcessor] [   virtual-6574] c.m.a.a.o.p.PaymentProcessorHttpClient   : Timeout processando pagamento 0752b53f-1436-4ea5-a0f3-713cbc6060f1 via FALLBACK: request timed out
async-worker-2-1  | 2025-07-26T21:14:20.493Z ERROR 1 --- [AsyncPaymentProcessor] [   virtual-6577] c.m.a.a.o.p.PaymentProcessorHttpClient   : Timeout processando pagamento 4f540cea-851f-413f-918c-1aa2f582b83b via FALLBACK: request timed out
async-worker-2-1  | 2025-07-26T21:14:20.493Z ERROR 1 --- [AsyncPaymentProcessor] [   virtual-6575] c.m.a.a.o.p.PaymentProcessorHttpClient   : Timeout processando pagamento b672508a-0334-439b-9ebc-d519337c85b3 via FALLBACK: request timed out
async-worker-2-1  | 2025-07-26T21:14:20.493Z ERROR 1 --- [AsyncPaymentProcessor] [   virtual-6576] c.m.a.a.o.p.PaymentProcessorHttpClient   : Timeout processando pagamento d0a3f358-8af3-4f2a-b2c6-edfb7d04a8b4 via FALLBACK: request timed out
async-worker-2-1  | 2025-07-26T21:14:20.522Z ERROR 1 --- [AsyncPaymentProcessor] [   virtual-6571] c.m.a.a.o.p.PaymentProcessorHttpClient   : Timeout processando pagamento 0249fc08-6f1e-4de6-bcd5-ac93c6a3e126 via FALLBACK: request timed out
async-worker-2-1  | 2025-07-26T21:14:20.894Z  WARN 1 --- [AsyncPaymentProcessor] [      Thread-14] c.m.a.a.o.p.PaymentProcessorHttpClient   : Timeout no health check DEFAULT: request timed out
async-worker-2-1  | 2025-07-26T21:14:20.894Z  WARN 1 --- [AsyncPaymentProcessor] [      Thread-15] c.m.a.a.o.p.PaymentProcessorHttpClient   : Timeout no health check FALLBACK: request timed out
async-worker-2-1  | 2025-07-26T21:14:20.894Z  WARN 1 --- [AsyncPaymentProcessor] [      Thread-15] c.m.a.a.s.HealthCheckOrchestratorImpl    : Não foi possível obter health status do Payment Processor: FALLBACK
async-worker-2-1  | 2025-07-26T21:14:20.895Z  WARN 1 --- [AsyncPaymentProcessor] [      Thread-14] c.m.a.a.s.HealthCheckOrchestratorImpl    : Não foi possível obter health status do Payment Processor: DEFAULT
async-worker-1    | 2025-07-26T21:14:24.402Z  INFO 1 --- [AsyncPaymentProcessor] [ionShutdownHook] o.s.i.endpoint.EventDrivenConsumer       : Removing {logging-channel-adapter:_org.springframework.integration.errorLogger} as a subscriber to the 'errorChannel' channel
async-worker-1    | 2025-07-26T21:14:24.402Z  INFO 1 --- [AsyncPaymentProcessor] [ionShutdownHook] o.s.i.channel.PublishSubscribeChannel    : Channel 'AsyncPaymentProcessor.errorChannel' has 0 subscriber(s).
async-worker-1    | 2025-07-26T21:14:24.402Z  INFO 1 --- [AsyncPaymentProcessor] [ionShutdownHook] o.s.i.endpoint.EventDrivenConsumer       : stopped bean '_org.springframework.integration.errorLogger'
async-worker-2-1  | 2025-07-26T21:14:24.591Z  INFO 1 --- [AsyncPaymentProcessor] [ionShutdownHook] o.s.i.endpoint.EventDrivenConsumer       : Removing {logging-channel-adapter:_org.springframework.integration.errorLogger} as a subscriber to the 'errorChannel' channel
async-worker-2-1  | 2025-07-26T21:14:24.591Z  INFO 1 --- [AsyncPaymentProcessor] [ionShutdownHook] o.s.i.channel.PublishSubscribeChannel    : Channel 'AsyncPaymentProcessor.errorChannel' has 0 subscriber(s).
async-worker-2-1  | 2025-07-26T21:14:24.591Z  INFO 1 --- [AsyncPaymentProcessor] [ionShutdownHook] o.s.i.endpoint.EventDrivenConsumer       : stopped bean '_org.springframework.integration.errorLogger'
async-worker-2-1  | 2025-07-26T21:14:24.498Z ERROR 1 --- [AsyncPaymentProcessor] [   virtual-7887] c.m.a.a.service.PaymentHistoryService    : Falha ao gravar pagamento no Redis. CorrelationId: c7b76328-2442-4ee1-b8a3-39b8960cde77, Error: LettuceConnectionFactory is STOPPING
async-worker-2-1  | 
async-worker-2-1  | java.lang.IllegalStateException: LettuceConnectionFactory is STOPPING
async-worker-2-1  | 	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory.assertStarted(LettuceConnectionFactory.java:1452) ~[app:3.5.1]
async-worker-2-1  | 	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory.getConnection(LettuceConnectionFactory.java:1049) ~[app:3.5.1]
async-worker-2-1  | 	at org.springframework.data.redis.core.RedisConnectionUtils.fetchConnection(RedisConnectionUtils.java:195) ~[na:na]
async-worker-2-1  | 	at org.springframework.data.redis.core.RedisConnectionUtils.doGetConnection(RedisConnectionUtils.java:144) ~[na:na]
async-worker-2-1  | 	at org.springframework.data.redis.core.RedisConnectionUtils.getConnection(RedisConnectionUtils.java:105) ~[na:na]
async-worker-2-1  | 	at org.springframework.data.redis.core.RedisTemplate.execute(RedisTemplate.java:400) ~[app:3.5.1]
async-worker-2-1  | 	at org.springframework.data.redis.core.RedisTemplate.execute(RedisTemplate.java:380) ~[app:3.5.1]
async-worker-2-1  | 	at org.springframework.data.redis.core.AbstractOperations.execute(AbstractOperations.java:117) ~[app:3.5.1]
async-worker-2-1  | 	at org.springframework.data.redis.core.DefaultListOperations.leftPush(DefaultListOperations.java:111) ~[app:3.5.1]
async-worker-2-1  | 	at com.maal.asyncpaymentprocessor.application.service.PaymentHistoryService.recordPayment(PaymentHistoryService.java:48) ~[app:na]
async-worker-2-1  | 	at com.maal.asyncpaymentprocessor.application.usecase.ProcessPaymentUseCaseImpl.processPaymentAsync(ProcessPaymentUseCaseImpl.java:61) ~[app:na]
async-worker-2-1  | 	at com.maal.asyncpaymentprocessor.application.worker.PaymentProcessorWorkerImpl.processPaymentMessage(PaymentProcessorWorkerImpl.java:150) ~[app:na]
async-worker-2-1  | 	at com.maal.asyncpaymentprocessor.application.worker.PaymentProcessorWorkerImpl.lambda$submitPaymentForProcessing$0(PaymentProcessorWorkerImpl.java:136) ~[app:na]
async-worker-2-1  | 	at java.base@24.0.2/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:545) ~[na:na]
async-worker-2-1  | 	at java.base@24.0.2/java.util.concurrent.FutureTask.run(FutureTask.java:328) ~[app:na]
async-worker-2-1  | 	at java.base@24.0.2/java.lang.Thread.runWith(Thread.java:1460) ~[app:na]
async-worker-2-1  | 	at java.base@24.0.2/java.lang.VirtualThread.run(VirtualThread.java:466) ~[app:na]
async-worker-2-1  | 	at java.base@24.0.2/java.lang.VirtualThread$VThreadContinuation$1.run(VirtualThread.java:258) ~[na:na]
async-worker-2-1  | 
async-worker-2-1  | 2025-07-26T21:14:24.617Z ERROR 1 --- [AsyncPaymentProcessor] [   virtual-7875] c.m.a.a.service.PaymentHistoryService    : Falha ao gravar pagamento no Redis. CorrelationId: c938595a-03ff-4d62-a0ef-fd573d422585, Error: LettuceConnectionFactory has been STOPPED. Use start() to initialize it
async-worker-2-1  | 
async-worker-2-1  | java.lang.IllegalStateException: LettuceConnectionFactory has been STOPPED. Use start() to initialize it
async-worker-2-1  | 	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory.assertStarted(LettuceConnectionFactory.java:1449) ~[app:3.5.1]
async-worker-2-1  | 	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory.getConnection(LettuceConnectionFactory.java:1049) ~[app:3.5.1]
async-worker-2-1  | 	at org.springframework.data.redis.core.RedisConnectionUtils.fetchConnection(RedisConnectionUtils.java:195) ~[na:na]
async-worker-2-1  | 	at org.springframework.data.redis.core.RedisConnectionUtils.doGetConnection(RedisConnectionUtils.java:144) ~[na:na]
async-worker-2-1  | 	at org.springframework.data.redis.core.RedisConnectionUtils.getConnection(RedisConnectionUtils.java:105) ~[na:na]
async-worker-2-1  | 	at org.springframework.data.redis.core.RedisTemplate.execute(RedisTemplate.java:400) ~[app:3.5.1]
async-worker-2-1  | 	at org.springframework.data.redis.core.RedisTemplate.execute(RedisTemplate.java:380) ~[app:3.5.1]
async-worker-2-1  | 	at org.springframework.data.redis.core.AbstractOperations.execute(AbstractOperations.java:117) ~[app:3.5.1]
async-worker-2-1  | 	at org.springframework.data.redis.core.DefaultListOperations.leftPush(DefaultListOperations.java:111) ~[app:3.5.1]
async-worker-2-1  | 	at com.maal.asyncpaymentprocessor.application.service.PaymentHistoryService.recordPayment(PaymentHistoryService.java:48) ~[app:na]
async-worker-2-1  | 	at com.maal.asyncpaymentprocessor.application.usecase.ProcessPaymentUseCaseImpl.processPaymentAsync(ProcessPaymentUseCaseImpl.java:61) ~[app:na]
async-worker-2-1  | 	at com.maal.asyncpaymentprocessor.application.worker.PaymentProcessorWorkerImpl.processPaymentMessage(PaymentProcessorWorkerImpl.java:150) ~[app:na]
async-worker-2-1  | 	at com.maal.asyncpaymentprocessor.application.worker.PaymentProcessorWorkerImpl.lambda$submitPaymentForProcessing$0(PaymentProcessorWorkerImpl.java:136) ~[app:na]
async-worker-2-1  | 	at java.base@24.0.2/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:545) ~[na:na]
async-worker-2-1  | 	at java.base@24.0.2/java.util.concurrent.FutureTask.run(FutureTask.java:328) ~[app:na]
async-worker-2-1  | 	at java.base@24.0.2/java.lang.Thread.runWith(Thread.java:1460) ~[app:na]
async-worker-2-1  | 	at java.base@24.0.2/java.lang.VirtualThread.run(VirtualThread.java:466) ~[app:na]
async-worker-2-1  | 	at java.base@24.0.2/java.lang.VirtualThread$VThreadContinuation$1.run(VirtualThread.java:258) ~[na:na]
async-worker-2-1  | 
async-worker-2-1  | 2025-07-26T21:14:24.617Z ERROR 1 --- [AsyncPaymentProcessor] [   virtual-7863] c.m.a.a.service.PaymentHistoryService    : Falha ao gravar pagamento no Redis. CorrelationId: 6eda80d4-f4d9-48af-a2b6-349f6352637b, Error: LettuceConnectionFactory has been STOPPED. Use start() to initialize it
async-worker-2-1  | 
async-worker-2-1  | java.lang.IllegalStateException: LettuceConnectionFactory has been STOPPED. Use start() to initialize it
async-worker-2-1  | 	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory.assertStarted(LettuceConnectionFactory.java:1449) ~[app:3.5.1]
async-worker-2-1  | 	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory.getConnection(LettuceConnectionFactory.java:1049) ~[app:3.5.1]
async-worker-2-1  | 	at org.springframework.data.redis.core.RedisConnectionUtils.fetchConnection(RedisConnectionUtils.java:195) ~[na:na]
async-worker-2-1  | 	at org.springframework.data.redis.core.RedisConnectionUtils.doGetConnection(RedisConnectionUtils.java:144) ~[na:na]
async-worker-2-1  | 	at org.springframework.data.redis.core.RedisConnectionUtils.getConnection(RedisConnectionUtils.java:105) ~[na:na]
async-worker-2-1  | 	at org.springframework.data.redis.core.RedisTemplate.execute(RedisTemplate.java:400) ~[app:3.5.1]
async-worker-2-1  | 	at org.springframework.data.redis.core.RedisTemplate.execute(RedisTemplate.java:380) ~[app:3.5.1]
async-worker-2-1  | 	at org.springframework.data.redis.core.AbstractOperations.execute(AbstractOperations.java:117) ~[app:3.5.1]
async-worker-2-1  | 	at org.springframework.data.redis.core.DefaultListOperations.leftPush(DefaultListOperations.java:111) ~[app:3.5.1]
async-worker-2-1  | 	at com.maal.asyncpaymentprocessor.application.service.PaymentHistoryService.recordPayment(PaymentHistoryService.java:48) ~[app:na]
async-worker-2-1  | 	at com.maal.asyncpaymentprocessor.application.usecase.ProcessPaymentUseCaseImpl.processPaymentAsync(ProcessPaymentUseCaseImpl.java:61) ~[app:na]
async-worker-2-1  | 	at com.maal.asyncpaymentprocessor.application.worker.PaymentProcessorWorkerImpl.processPaymentMessage(PaymentProcessorWorkerImpl.java:150) ~[app:na]
async-worker-2-1  | 	at com.maal.asyncpaymentprocessor.application.worker.PaymentProcessorWorkerImpl.lambda$submitPaymentForProcessing$0(PaymentProcessorWorkerImpl.java:136) ~[app:na]
async-worker-2-1  | 	at java.base@24.0.2/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:545) ~[na:na]
async-worker-2-1  | 	at java.base@24.0.2/java.util.concurrent.FutureTask.run(FutureTask.java:328) ~[app:na]
async-worker-2-1  | 	at java.base@24.0.2/java.lang.Thread.runWith(Thread.java:1460) ~[app:na]
async-worker-2-1  | 	at java.base@24.0.2/java.lang.VirtualThread.run(VirtualThread.java:466) ~[app:na]
async-worker-2-1  | 	at java.base@24.0.2/java.lang.VirtualThread$VThreadContinuation$1.run(VirtualThread.java:258) ~[na:na]
async-worker-2-1  | 
async-worker-2-1  | 2025-07-26T21:14:24.617Z ERROR 1 --- [AsyncPaymentProcessor] [   virtual-7872] c.m.a.a.service.PaymentHistoryService    : Falha ao gravar pagamento no Redis. CorrelationId: e113e074-e76c-4135-96dc-c51c180df36e, Error: LettuceConnectionFactory has been STOPPED. Use start() to initialize it
async-worker-2-1  | 
async-worker-2-1  | java.lang.IllegalStateException: LettuceConnectionFactory has been STOPPED. Use start() to initialize it
async-worker-2-1  | 	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory.assertStarted(LettuceConnectionFactory.java:1449) ~[app:3.5.1]
async-worker-2-1  | 	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory.getConnection(LettuceConnectionFactory.java:1049) ~[app:3.5.1]
async-worker-2-1  | 	at org.springframework.data.redis.core.RedisConnectionUtils.fetchConnection(RedisConnectionUtils.java:195) ~[na:na]
async-worker-2-1  | 	at org.springframework.data.redis.core.RedisConnectionUtils.doGetConnection(RedisConnectionUtils.java:144) ~[na:na]
async-worker-2-1  | 	at org.springframework.data.redis.core.RedisConnectionUtils.getConnection(RedisConnectionUtils.java:105) ~[na:na]
async-worker-2-1  | 	at org.springframework.data.redis.core.RedisTemplate.execute(RedisTemplate.java:400) ~[app:3.5.1]
async-worker-2-1  | 	at org.springframework.data.redis.core.RedisTemplate.execute(RedisTemplate.java:380) ~[app:3.5.1]
async-worker-2-1  | 	at org.springframework.data.redis.core.AbstractOperations.execute(AbstractOperations.java:117) ~[app:3.5.1]
async-worker-2-1  | 	at org.springframework.data.redis.core.DefaultListOperations.leftPush(DefaultListOperations.java:111) ~[app:3.5.1]
async-worker-2-1  | 	at com.maal.asyncpaymentprocessor.application.service.PaymentHistoryService.recordPayment(PaymentHistoryService.java:48) ~[app:na]
async-worker-2-1  | 	at com.maal.asyncpaymentprocessor.application.usecase.ProcessPaymentUseCaseImpl.processPaymentAsync(ProcessPaymentUseCaseImpl.java:61) ~[app:na]
async-worker-2-1  | 	at com.maal.asyncpaymentprocessor.application.worker.PaymentProcessorWorkerImpl.processPaymentMessage(PaymentProcessorWorkerImpl.java:150) ~[app:na]
async-worker-2-1  | 	at com.maal.asyncpaymentprocessor.application.worker.PaymentProcessorWorkerImpl.lambda$submitPaymentForProcessing$0(PaymentProcessorWorkerImpl.java:136) ~[app:na]
async-worker-2-1  | 	at java.base@24.0.2/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:545) ~[na:na]
async-worker-2-1  | 	at java.base@24.0.2/java.util.concurrent.FutureTask.run(FutureTask.java:328) ~[app:na]
async-worker-2-1  | 	at java.base@24.0.2/java.lang.Thread.runWith(Thread.java:1460) ~[app:na]
async-worker-2-1  | 	at java.base@24.0.2/java.lang.VirtualThread.run(VirtualThread.java:466) ~[app:na]
async-worker-2-1  | 	at java.base@24.0.2/java.lang.VirtualThread$VThreadContinuation$1.run(VirtualThread.java:258) ~[na:na]
async-worker-2-1  | 
async-worker-2-1  | 2025-07-26T21:14:24.617Z ERROR 1 --- [AsyncPaymentProcessor] [   virtual-7861] c.m.a.a.service.PaymentHistoryService    : Falha ao gravar pagamento no Redis. CorrelationId: 3dc36c06-bc3d-42fe-9570-d3b8eab10316, Error: LettuceConnectionFactory has been STOPPED. Use start() to initialize it
async-worker-2-1  | 
async-worker-2-1  | java.lang.IllegalStateException: LettuceConnectionFactory has been STOPPED. Use start() to initialize it
async-worker-2-1  | 	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory.assertStarted(LettuceConnectionFactory.java:1449) ~[app:3.5.1]
async-worker-2-1  | 	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory.getConnection(LettuceConnectionFactory.java:1049) ~[app:3.5.1]
async-worker-2-1  | 	at org.springframework.data.redis.core.RedisConnectionUtils.fetchConnection(RedisConnectionUtils.java:195) ~[na:na]
async-worker-2-1  | 	at org.springframework.data.redis.core.RedisConnectionUtils.doGetConnection(RedisConnectionUtils.java:144) ~[na:na]
async-worker-2-1  | 	at org.springframework.data.redis.core.RedisConnectionUtils.getConnection(RedisConnectionUtils.java:105) ~[na:na]
async-worker-2-1  | 	at org.springframework.data.redis.core.RedisTemplate.execute(RedisTemplate.java:400) ~[app:3.5.1]
async-worker-2-1  | 	at org.springframework.data.redis.core.RedisTemplate.execute(RedisTemplate.java:380) ~[app:3.5.1]
async-worker-2-1  | 	at org.springframework.data.redis.core.AbstractOperations.execute(AbstractOperations.java:117) ~[app:3.5.1]
async-worker-2-1  | 	at org.springframework.data.redis.core.DefaultListOperations.leftPush(DefaultListOperations.java:111) ~[app:3.5.1]
async-worker-2-1  | 	at com.maal.asyncpaymentprocessor.application.service.PaymentHistoryService.recordPayment(PaymentHistoryService.java:48) ~[app:na]
async-worker-2-1  | 	at com.maal.asyncpaymentprocessor.application.usecase.ProcessPaymentUseCaseImpl.processPaymentAsync(ProcessPaymentUseCaseImpl.java:61) ~[app:na]
async-worker-2-1  | 	at com.maal.asyncpaymentprocessor.application.worker.PaymentProcessorWorkerImpl.processPaymentMessage(PaymentProcessorWorkerImpl.java:150) ~[app:na]
async-worker-2-1  | 	at com.maal.asyncpaymentprocessor.application.worker.PaymentProcessorWorkerImpl.lambda$submitPaymentForProcessing$0(PaymentProcessorWorkerImpl.java:136) ~[app:na]
async-worker-2-1  | 	at java.base@24.0.2/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:545) ~[na:na]
async-worker-2-1  | 	at java.base@24.0.2/java.util.concurrent.FutureTask.run(FutureTask.java:328) ~[app:na]
async-worker-2-1  | 	at java.base@24.0.2/java.lang.Thread.runWith(Thread.java:1460) ~[app:na]
async-worker-2-1  | 	at java.base@24.0.2/java.lang.VirtualThread.run(VirtualThread.java:466) ~[app:na]
async-worker-2-1  | 	at java.base@24.0.2/java.lang.VirtualThread$VThreadContinuation$1.run(VirtualThread.java:258) ~[na:na]
async-worker-2-1  | 
async-worker-2-1  | 2025-07-26T21:14:24.617Z ERROR 1 --- [AsyncPaymentProcessor] [   virtual-7886] c.m.a.a.service.PaymentHistoryService    : Falha ao gravar pagamento no Redis. CorrelationId: 1b2b7faf-3d97-47da-8399-f644984e867f, Error: LettuceConnectionFactory has been STOPPED. Use start() to initialize it
async-worker-2-1  | 
async-worker-2-1  | java.lang.IllegalStateException: LettuceConnectionFactory has been STOPPED. Use start() to initialize it
async-worker-2-1  | 	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory.assertStarted(LettuceConnectionFactory.java:1449) ~[app:3.5.1]
async-worker-2-1  | 	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory.getConnection(LettuceConnectionFactory.java:1049) ~[app:3.5.1]
async-worker-2-1  | 	at org.springframework.data.redis.core.RedisConnectionUtils.fetchConnection(RedisConnectionUtils.java:195) ~[na:na]
async-worker-2-1  | 	at org.springframework.data.redis.core.RedisConnectionUtils.doGetConnection(RedisConnectionUtils.java:144) ~[na:na]
async-worker-2-1  | 	at org.springframework.data.redis.core.RedisConnectionUtils.getConnection(RedisConnectionUtils.java:105) ~[na:na]
async-worker-2-1  | 	at org.springframework.data.redis.core.RedisTemplate.execute(RedisTemplate.java:400) ~[app:3.5.1]
async-worker-2-1  | 	at org.springframework.data.redis.core.RedisTemplate.execute(RedisTemplate.java:380) ~[app:3.5.1]
async-worker-2-1  | 	at org.springframework.data.redis.core.AbstractOperations.execute(AbstractOperations.java:117) ~[app:3.5.1]
async-worker-2-1  | 	at org.springframework.data.redis.core.DefaultListOperations.leftPush(DefaultListOperations.java:111) ~[app:3.5.1]
async-worker-2-1  | 	at com.maal.asyncpaymentprocessor.application.service.PaymentHistoryService.recordPayment(PaymentHistoryService.java:48) ~[app:na]
async-worker-2-1  | 	at com.maal.asyncpaymentprocessor.application.usecase.ProcessPaymentUseCaseImpl.processPaymentAsync(ProcessPaymentUseCaseImpl.java:61) ~[app:na]
async-worker-2-1  | 	at com.maal.asyncpaymentprocessor.application.worker.PaymentProcessorWorkerImpl.processPaymentMessage(PaymentProcessorWorkerImpl.java:150) ~[app:na]
async-worker-2-1  | 	at com.maal.asyncpaymentprocessor.application.worker.PaymentProcessorWorkerImpl.lambda$submitPaymentForProcessing$0(PaymentProcessorWorkerImpl.java:136) ~[app:na]
async-worker-2-1  | 	at java.base@24.0.2/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:545) ~[na:na]
async-worker-2-1  | 	at java.base@24.0.2/java.util.concurrent.FutureTask.run(FutureTask.java:328) ~[app:na]
async-worker-2-1  | 	at java.base@24.0.2/java.lang.Thread.runWith(Thread.java:1460) ~[app:na]
async-worker-2-1  | 	at java.base@24.0.2/java.lang.VirtualThread.run(VirtualThread.java:466) ~[app:na]
async-worker-2-1  | 	at java.base@24.0.2/java.lang.VirtualThread$VThreadContinuation$1.run(VirtualThread.java:258) ~[na:na]
async-worker-2-1  | 
async-worker-2-1  | 2025-07-26T21:14:24.617Z ERROR 1 --- [AsyncPaymentProcessor] [   virtual-7855] c.m.a.a.service.PaymentHistoryService    : Falha ao gravar pagamento no Redis. CorrelationId: 8f62455c-56f4-48fd-9b3d-002f68f1a477, Error: LettuceConnectionFactory has been STOPPED. Use start() to initialize it
async-worker-2-1  | 
async-worker-2-1  | java.lang.IllegalStateException: LettuceConnectionFactory has been STOPPED. Use start() to initialize it
async-worker-2-1  | 	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory.assertStarted(LettuceConnectionFactory.java:1449) ~[app:3.5.1]
async-worker-2-1  | 	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory.getConnection(LettuceConnectionFactory.java:1049) ~[app:3.5.1]
async-worker-2-1  | 	at org.springframework.data.redis.core.RedisConnectionUtils.fetchConnection(RedisConnectionUtils.java:195) ~[na:na]
async-worker-2-1  | 	at org.springframework.data.redis.core.RedisConnectionUtils.doGetConnection(RedisConnectionUtils.java:144) ~[na:na]
async-worker-2-1  | 	at org.springframework.data.redis.core.RedisConnectionUtils.getConnection(RedisConnectionUtils.java:105) ~[na:na]
async-worker-2-1  | 	at org.springframework.data.redis.core.RedisTemplate.execute(RedisTemplate.java:400) ~[app:3.5.1]
async-worker-2-1  | 	at org.springframework.data.redis.core.RedisTemplate.execute(RedisTemplate.java:380) ~[app:3.5.1]
async-worker-2-1  | 	at org.springframework.data.redis.core.AbstractOperations.execute(AbstractOperations.java:117) ~[app:3.5.1]
async-worker-2-1  | 	at org.springframework.data.redis.core.DefaultListOperations.leftPush(DefaultListOperations.java:111) ~[app:3.5.1]
async-worker-2-1  | 	at com.maal.asyncpaymentprocessor.application.service.PaymentHistoryService.recordPayment(PaymentHistoryService.java:48) ~[app:na]
async-worker-2-1  | 	at com.maal.asyncpaymentprocessor.application.usecase.ProcessPaymentUseCaseImpl.processPaymentAsync(ProcessPaymentUseCaseImpl.java:61) ~[app:na]
async-worker-2-1  | 	at com.maal.asyncpaymentprocessor.application.worker.PaymentProcessorWorkerImpl.processPaymentMessage(PaymentProcessorWorkerImpl.java:150) ~[app:na]
async-worker-2-1  | 	at com.maal.asyncpaymentprocessor.application.worker.PaymentProcessorWorkerImpl.lambda$submitPaymentForProcessing$0(PaymentProcessorWorkerImpl.java:136) ~[app:na]
async-worker-2-1  | 	at java.base@24.0.2/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:545) ~[na:na]
async-worker-2-1  | 	at java.base@24.0.2/java.util.concurrent.FutureTask.run(FutureTask.java:328) ~[app:na]
async-worker-2-1  | 	at java.base@24.0.2/java.lang.Thread.runWith(Thread.java:1460) ~[app:na]
async-worker-2-1  | 	at java.base@24.0.2/java.lang.VirtualThread.run(VirtualThread.java:466) ~[app:na]
async-worker-2-1  | 	at java.base@24.0.2/java.lang.VirtualThread$VThreadContinuation$1.run(VirtualThread.java:258) ~[na:na]
async-worker-2-1  | 
async-worker-2-1  | 2025-07-26T21:14:24.617Z ERROR 1 --- [AsyncPaymentProcessor] [   virtual-7880] c.m.a.a.service.PaymentHistoryService    : Falha ao gravar pagamento no Redis. CorrelationId: a292c0c8-1136-4115-8359-b7f7141459fd, Error: LettuceConnectionFactory has been STOPPED. Use start() to initialize it
async-worker-2-1  | 
async-worker-2-1  | java.lang.IllegalStateException: LettuceConnectionFactory has been STOPPED. Use start() to initialize it
async-worker-2-1  | 	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory.assertStarted(LettuceConnectionFactory.java:1449) ~[app:3.5.1]
async-worker-2-1  | 	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory.getConnection(LettuceConnectionFactory.java:1049) ~[app:3.5.1]
async-worker-2-1  | 	at org.springframework.data.redis.core.RedisConnectionUtils.fetchConnection(RedisConnectionUtils.java:195) ~[na:na]
async-worker-2-1  | 	at org.springframework.data.redis.core.RedisConnectionUtils.doGetConnection(RedisConnectionUtils.java:144) ~[na:na]
async-worker-2-1  | 	at org.springframework.data.redis.core.RedisConnectionUtils.getConnection(RedisConnectionUtils.java:105) ~[na:na]
async-worker-2-1  | 	at org.springframework.data.redis.core.RedisTemplate.execute(RedisTemplate.java:400) ~[app:3.5.1]
async-worker-2-1  | 	at org.springframework.data.redis.core.RedisTemplate.execute(RedisTemplate.java:380) ~[app:3.5.1]
async-worker-2-1  | 	at org.springframework.data.redis.core.AbstractOperations.execute(AbstractOperations.java:117) ~[app:3.5.1]
async-worker-2-1  | 	at org.springframework.data.redis.core.DefaultListOperations.leftPush(DefaultListOperations.java:111) ~[app:3.5.1]
async-worker-2-1  | 	at com.maal.asyncpaymentprocessor.application.service.PaymentHistoryService.recordPayment(PaymentHistoryService.java:48) ~[app:na]
async-worker-2-1  | 	at com.maal.asyncpaymentprocessor.application.usecase.ProcessPaymentUseCaseImpl.processPaymentAsync(ProcessPaymentUseCaseImpl.java:61) ~[app:na]
async-worker-2-1  | 	at com.maal.asyncpaymentprocessor.application.worker.PaymentProcessorWorkerImpl.processPaymentMessage(PaymentProcessorWorkerImpl.java:150) ~[app:na]
async-worker-2-1  | 	at com.maal.asyncpaymentprocessor.application.worker.PaymentProcessorWorkerImpl.lambda$submitPaymentForProcessing$0(PaymentProcessorWorkerImpl.java:136) ~[app:na]
async-worker-2-1  | 	at java.base@24.0.2/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:545) ~[na:na]
async-worker-2-1  | 	at java.base@24.0.2/java.util.concurrent.FutureTask.run(FutureTask.java:328) ~[app:na]
async-worker-2-1  | 	at java.base@24.0.2/java.lang.Thread.runWith(Thread.java:1460) ~[app:na]
async-worker-2-1  | 	at java.base@24.0.2/java.lang.VirtualThread.run(VirtualThread.java:466) ~[app:na]
async-worker-2-1  | 	at java.base@24.0.2/java.lang.VirtualThread$VThreadContinuation$1.run(VirtualThread.java:258) ~[na:na]
async-worker-2-1  | 
async-worker-2-1  | 2025-07-26T21:14:24.617Z ERROR 1 --- [AsyncPaymentProcessor] [   virtual-7884] c.m.a.a.service.PaymentHistoryService    : Falha ao gravar pagamento no Redis. CorrelationId: d7c4f6a2-b651-4fbb-9a7f-b4d1a77e38ad, Error: LettuceConnectionFactory has been STOPPED. Use start() to initialize it
async-worker-2-1  | 
async-worker-2-1  | java.lang.IllegalStateException: LettuceConnectionFactory has been STOPPED. Use start() to initialize it
async-worker-2-1  | 	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory.assertStarted(LettuceConnectionFactory.java:1449) ~[app:3.5.1]
async-worker-2-1  | 	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory.getConnection(LettuceConnectionFactory.java:1049) ~[app:3.5.1]
async-worker-2-1  | 	at org.springframework.data.redis.core.RedisConnectionUtils.fetchConnection(RedisConnectionUtils.java:195) ~[na:na]
async-worker-2-1  | 	at org.springframework.data.redis.core.RedisConnectionUtils.doGetConnection(RedisConnectionUtils.java:144) ~[na:na]
async-worker-2-1  | 	at org.springframework.data.redis.core.RedisConnectionUtils.getConnection(RedisConnectionUtils.java:105) ~[na:na]
async-worker-2-1  | 	at org.springframework.data.redis.core.RedisTemplate.execute(RedisTemplate.java:400) ~[app:3.5.1]
async-worker-2-1  | 	at org.springframework.data.redis.core.RedisTemplate.execute(RedisTemplate.java:380) ~[app:3.5.1]
async-worker-2-1  | 	at org.springframework.data.redis.core.AbstractOperations.execute(AbstractOperations.java:117) ~[app:3.5.1]
async-worker-2-1  | 	at org.springframework.data.redis.core.DefaultListOperations.leftPush(DefaultListOperations.java:111) ~[app:3.5.1]
async-worker-2-1  | 	at com.maal.asyncpaymentprocessor.application.service.PaymentHistoryService.recordPayment(PaymentHistoryService.java:48) ~[app:na]
async-worker-2-1  | 	at com.maal.asyncpaymentprocessor.application.usecase.ProcessPaymentUseCaseImpl.processPaymentAsync(ProcessPaymentUseCaseImpl.java:61) ~[app:na]
async-worker-2-1  | 	at com.maal.asyncpaymentprocessor.application.worker.PaymentProcessorWorkerImpl.processPaymentMessage(PaymentProcessorWorkerImpl.java:150) ~[app:na]
async-worker-2-1  | 	at com.maal.asyncpaymentprocessor.application.worker.PaymentProcessorWorkerImpl.lambda$submitPaymentForProcessing$0(PaymentProcessorWorkerImpl.java:136) ~[app:na]
async-worker-2-1  | 	at java.base@24.0.2/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:545) ~[na:na]
async-worker-2-1  | 	at java.base@24.0.2/java.util.concurrent.FutureTask.run(FutureTask.java:328) ~[app:na]
async-worker-2-1  | 	at java.base@24.0.2/java.lang.Thread.runWith(Thread.java:1460) ~[app:na]
async-worker-2-1  | 	at java.base@24.0.2/java.lang.VirtualThread.run(VirtualThread.java:466) ~[app:na]
async-worker-2-1  | 	at java.base@24.0.2/java.lang.VirtualThread$VThreadContinuation$1.run(VirtualThread.java:258) ~[na:na]
async-worker-2-1  | 
async-worker-2-1  | 2025-07-26T21:14:24.617Z ERROR 1 --- [AsyncPaymentProcessor] [   virtual-7871] c.m.a.a.service.PaymentHistoryService    : Falha ao gravar pagamento no Redis. CorrelationId: e1f4cc3e-3437-4fc8-a24a-93117a394ed1, Error: LettuceConnectionFactory has been STOPPED. Use start() to initialize it
async-worker-2-1  | 
async-worker-2-1  | java.lang.IllegalStateException: LettuceConnectionFactory has been STOPPED. Use start() to initialize it
async-worker-2-1  | 	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory.assertStarted(LettuceConnectionFactory.java:1449) ~[app:3.5.1]
async-worker-2-1  | 	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory.getConnection(LettuceConnectionFactory.java:1049) ~[app:3.5.1]
async-worker-2-1  | 	at org.springframework.data.redis.core.RedisConnectionUtils.fetchConnection(RedisConnectionUtils.java:195) ~[na:na]
async-worker-2-1  | 	at org.springframework.data.redis.core.RedisConnectionUtils.doGetConnection(RedisConnectionUtils.java:144) ~[na:na]
async-worker-2-1  | 	at org.springframework.data.redis.core.RedisConnectionUtils.getConnection(RedisConnectionUtils.java:105) ~[na:na]
async-worker-2-1  | 	at org.springframework.data.redis.core.RedisTemplate.execute(RedisTemplate.java:400) ~[app:3.5.1]
async-worker-2-1  | 	at org.springframework.data.redis.core.RedisTemplate.execute(RedisTemplate.java:380) ~[app:3.5.1]
async-worker-2-1  | 	at org.springframework.data.redis.core.AbstractOperations.execute(AbstractOperations.java:117) ~[app:3.5.1]
async-worker-2-1  | 	at org.springframework.data.redis.core.DefaultListOperations.leftPush(DefaultListOperations.java:111) ~[app:3.5.1]
async-worker-2-1  | 	at com.maal.asyncpaymentprocessor.application.service.PaymentHistoryService.recordPayment(PaymentHistoryService.java:48) ~[app:na]
async-worker-2-1  | 	at com.maal.asyncpaymentprocessor.application.usecase.ProcessPaymentUseCaseImpl.processPaymentAsync(ProcessPaymentUseCaseImpl.java:61) ~[app:na]
async-worker-2-1  | 	at com.maal.asyncpaymentprocessor.application.worker.PaymentProcessorWorkerImpl.processPaymentMessage(PaymentProcessorWorkerImpl.java:150) ~[app:na]
async-worker-2-1  | 	at com.maal.asyncpaymentprocessor.application.worker.PaymentProcessorWorkerImpl.lambda$submitPaymentForProcessing$0(PaymentProcessorWorkerImpl.java:136) ~[app:na]
async-worker-2-1  | 	at java.base@24.0.2/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:545) ~[na:na]
async-worker-2-1  | 	at java.base@24.0.2/java.util.concurrent.FutureTask.run(FutureTask.java:328) ~[app:na]
async-worker-2-1  | 	at java.base@24.0.2/java.lang.Thread.runWith(Thread.java:1460) ~[app:na]
async-worker-2-1  | 	at java.base@24.0.2/java.lang.VirtualThread.run(VirtualThread.java:466) ~[app:na]
async-worker-2-1  | 	at java.base@24.0.2/java.lang.VirtualThread$VThreadContinuation$1.run(VirtualThread.java:258) ~[na:na]
async-worker-2-1  | 
async-worker-2-1  | 2025-07-26T21:14:24.618Z ERROR 1 --- [AsyncPaymentProcessor] [   virtual-7901] c.m.a.a.service.PaymentHistoryService    : Falha ao gravar pagamento no Redis. CorrelationId: eaf5cf43-326e-4144-9e95-2e8eced4a07e, Error: LettuceConnectionFactory has been STOPPED. Use start() to initialize it
async-worker-2-1  | 
async-worker-2-1  | java.lang.IllegalStateException: LettuceConnectionFactory has been STOPPED. Use start() to initialize it
async-worker-2-1  | 	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory.assertStarted(LettuceConnectionFactory.java:1449) ~[app:3.5.1]
async-worker-2-1  | 	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory.getConnection(LettuceConnectionFactory.java:1049) ~[app:3.5.1]
async-worker-2-1  | 	at org.springframework.data.redis.core.RedisConnectionUtils.fetchConnection(RedisConnectionUtils.java:195) ~[na:na]
async-worker-2-1  | 	at org.springframework.data.redis.core.RedisConnectionUtils.doGetConnection(RedisConnectionUtils.java:144) ~[na:na]
async-worker-2-1  | 	at org.springframework.data.redis.core.RedisConnectionUtils.getConnection(RedisConnectionUtils.java:105) ~[na:na]
async-worker-2-1  | 	at org.springframework.data.redis.core.RedisTemplate.execute(RedisTemplate.java:400) ~[app:3.5.1]
async-worker-2-1  | 	at org.springframework.data.redis.core.RedisTemplate.execute(RedisTemplate.java:380) ~[app:3.5.1]
async-worker-2-1  | 	at org.springframework.data.redis.core.AbstractOperations.execute(AbstractOperations.java:117) ~[app:3.5.1]
async-worker-2-1  | 	at org.springframework.data.redis.core.DefaultListOperations.leftPush(DefaultListOperations.java:111) ~[app:3.5.1]
async-worker-2-1  | 	at com.maal.asyncpaymentprocessor.application.service.PaymentHistoryService.recordPayment(PaymentHistoryService.java:48) ~[app:na]
async-worker-2-1  | 	at com.maal.asyncpaymentprocessor.application.usecase.ProcessPaymentUseCaseImpl.processPaymentAsync(ProcessPaymentUseCaseImpl.java:61) ~[app:na]
async-worker-2-1  | 	at com.maal.asyncpaymentprocessor.application.worker.PaymentProcessorWorkerImpl.processPaymentMessage(PaymentProcessorWorkerImpl.java:150) ~[app:na]
async-worker-2-1  | 	at com.maal.asyncpaymentprocessor.application.worker.PaymentProcessorWorkerImpl.lambda$submitPaymentForProcessing$0(PaymentProcessorWorkerImpl.java:136) ~[app:na]
async-worker-2-1  | 	at java.base@24.0.2/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:545) ~[na:na]
async-worker-2-1  | 	at java.base@24.0.2/java.util.concurrent.FutureTask.run(FutureTask.java:328) ~[app:na]
async-worker-2-1  | 	at java.base@24.0.2/java.lang.Thread.runWith(Thread.java:1460) ~[app:na]
async-worker-2-1  | 	at java.base@24.0.2/java.lang.VirtualThread.run(VirtualThread.java:466) ~[app:na]
async-worker-2-1  | 	at java.base@24.0.2/java.lang.VirtualThread$VThreadContinuation$1.run(VirtualThread.java:258) ~[na:na]
async-worker-2-1  | 
async-worker-2-1  | 2025-07-26T21:14:24.618Z ERROR 1 --- [AsyncPaymentProcessor] [   virtual-7889] c.m.a.a.service.PaymentHistoryService    : Falha ao gravar pagamento no Redis. CorrelationId: 3d148146-c02b-4a9a-9293-78b8955ca221, Error: LettuceConnectionFactory has been STOPPED. Use start() to initialize it
async-worker-2-1  | 
async-worker-2-1  | java.lang.IllegalStateException: LettuceConnectionFactory has been STOPPED. Use start() to initialize it
async-worker-2-1  | 	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory.assertStarted(LettuceConnectionFactory.java:1449) ~[app:3.5.1]
async-worker-2-1  | 	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory.getConnection(LettuceConnectionFactory.java:1049) ~[app:3.5.1]
async-worker-2-1  | 	at org.springframework.data.redis.core.RedisConnectionUtils.fetchConnection(RedisConnectionUtils.java:195) ~[na:na]
async-worker-2-1  | 	at org.springframework.data.redis.core.RedisConnectionUtils.doGetConnection(RedisConnectionUtils.java:144) ~[na:na]
async-worker-2-1  | 	at org.springframework.data.redis.core.RedisConnectionUtils.getConnection(RedisConnectionUtils.java:105) ~[na:na]
async-worker-2-1  | 	at org.springframework.data.redis.core.RedisTemplate.execute(RedisTemplate.java:400) ~[app:3.5.1]
async-worker-2-1  | 	at org.springframework.data.redis.core.RedisTemplate.execute(RedisTemplate.java:380) ~[app:3.5.1]
async-worker-2-1  | 	at org.springframework.data.redis.core.AbstractOperations.execute(AbstractOperations.java:117) ~[app:3.5.1]
async-worker-2-1  | 	at org.springframework.data.redis.core.DefaultListOperations.leftPush(DefaultListOperations.java:111) ~[app:3.5.1]
async-worker-2-1  | 	at com.maal.asyncpaymentprocessor.application.service.PaymentHistoryService.recordPayment(PaymentHistoryService.java:48) ~[app:na]
async-worker-2-1  | 	at com.maal.asyncpaymentprocessor.application.usecase.ProcessPaymentUseCaseImpl.processPaymentAsync(ProcessPaymentUseCaseImpl.java:61) ~[app:na]
async-worker-2-1  | 	at com.maal.asyncpaymentprocessor.application.worker.PaymentProcessorWorkerImpl.processPaymentMessage(PaymentProcessorWorkerImpl.java:150) ~[app:na]
async-worker-2-1  | 	at com.maal.asyncpaymentprocessor.application.worker.PaymentProcessorWorkerImpl.lambda$submitPaymentForProcessing$0(PaymentProcessorWorkerImpl.java:136) ~[app:na]
async-worker-2-1  | 	at java.base@24.0.2/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:545) ~[na:na]
async-worker-2-1  | 	at java.base@24.0.2/java.util.concurrent.FutureTask.run(FutureTask.java:328) ~[app:na]
async-worker-2-1  | 	at java.base@24.0.2/java.lang.Thread.runWith(Thread.java:1460) ~[app:na]
async-worker-2-1  | 	at java.base@24.0.2/java.lang.VirtualThread.run(VirtualThread.java:466) ~[app:na]
async-worker-2-1  | 	at java.base@24.0.2/java.lang.VirtualThread$VThreadContinuation$1.run(VirtualThread.java:258) ~[na:na]
async-worker-2-1  | 
async-worker-2-1  | 2025-07-26T21:14:24.618Z ERROR 1 --- [AsyncPaymentProcessor] [   virtual-7881] c.m.a.a.service.PaymentHistoryService    : Falha ao gravar pagamento no Redis. CorrelationId: 7a3401ff-5b17-4064-9fdd-d0b5e25f69f1, Error: LettuceConnectionFactory has been STOPPED. Use start() to initialize it
async-worker-2-1  | 
async-worker-2-1  | java.lang.IllegalStateException: LettuceConnectionFactory has been STOPPED. Use start() to initialize it
async-worker-2-1  | 	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory.assertStarted(LettuceConnectionFactory.java:1449) ~[app:3.5.1]
async-worker-2-1  | 	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory.getConnection(LettuceConnectionFactory.java:1049) ~[app:3.5.1]
async-worker-2-1  | 	at org.springframework.data.redis.core.RedisConnectionUtils.fetchConnection(RedisConnectionUtils.java:195) ~[na:na]
async-worker-2-1  | 	at org.springframework.data.redis.core.RedisConnectionUtils.doGetConnection(RedisConnectionUtils.java:144) ~[na:na]
async-worker-2-1  | 	at org.springframework.data.redis.core.RedisConnectionUtils.getConnection(RedisConnectionUtils.java:105) ~[na:na]
async-worker-2-1  | 	at org.springframework.data.redis.core.RedisTemplate.execute(RedisTemplate.java:400) ~[app:3.5.1]
async-worker-2-1  | 	at org.springframework.data.redis.core.RedisTemplate.execute(RedisTemplate.java:380) ~[app:3.5.1]
async-worker-2-1  | 	at org.springframework.data.redis.core.AbstractOperations.execute(AbstractOperations.java:117) ~[app:3.5.1]
async-worker-2-1  | 	at org.springframework.data.redis.core.DefaultListOperations.leftPush(DefaultListOperations.java:111) ~[app:3.5.1]
async-worker-2-1  | 	at com.maal.asyncpaymentprocessor.application.service.PaymentHistoryService.recordPayment(PaymentHistoryService.java:48) ~[app:na]
async-worker-2-1  | 	at com.maal.asyncpaymentprocessor.application.usecase.ProcessPaymentUseCaseImpl.processPaymentAsync(ProcessPaymentUseCaseImpl.java:61) ~[app:na]
async-worker-2-1  | 	at com.maal.asyncpaymentprocessor.application.worker.PaymentProcessorWorkerImpl.processPaymentMessage(PaymentProcessorWorkerImpl.java:150) ~[app:na]
async-worker-2-1  | 	at com.maal.asyncpaymentprocessor.application.worker.PaymentProcessorWorkerImpl.lambda$submitPaymentForProcessing$0(PaymentProcessorWorkerImpl.java:136) ~[app:na]
async-worker-2-1  | 	at java.base@24.0.2/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:545) ~[na:na]
async-worker-2-1  | 	at java.base@24.0.2/java.util.concurrent.FutureTask.run(FutureTask.java:328) ~[app:na]
async-worker-2-1  | 	at java.base@24.0.2/java.lang.Thread.runWith(Thread.java:1460) ~[app:na]
async-worker-2-1  | 	at java.base@24.0.2/java.lang.VirtualThread.run(VirtualThread.java:466) ~[app:na]
async-worker-2-1  | 	at java.base@24.0.2/java.lang.VirtualThread$VThreadContinuation$1.run(VirtualThread.java:258) ~[na:na]
async-worker-2-1  | 
async-worker-2-1  | 2025-07-26T21:14:24.618Z ERROR 1 --- [AsyncPaymentProcessor] [   virtual-7904] c.m.a.a.service.PaymentHistoryService    : Falha ao gravar pagamento no Redis. CorrelationId: 3802218b-a2a9-4eca-be96-997cac3381a9, Error: LettuceConnectionFactory has been STOPPED. Use start() to initialize it
async-worker-2-1  | 
async-worker-2-1  | java.lang.IllegalStateException: LettuceConnectionFactory has been STOPPED. Use start() to initialize it
async-worker-2-1  | 	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory.assertStarted(LettuceConnectionFactory.java:1449) ~[app:3.5.1]
async-worker-2-1  | 	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory.getConnection(LettuceConnectionFactory.java:1049) ~[app:3.5.1]
async-worker-2-1  | 	at org.springframework.data.redis.core.RedisConnectionUtils.fetchConnection(RedisConnectionUtils.java:195) ~[na:na]
async-worker-2-1  | 	at org.springframework.data.redis.core.RedisConnectionUtils.doGetConnection(RedisConnectionUtils.java:144) ~[na:na]
async-worker-2-1  | 	at org.springframework.data.redis.core.RedisConnectionUtils.getConnection(RedisConnectionUtils.java:105) ~[na:na]
async-worker-2-1  | 	at org.springframework.data.redis.core.RedisTemplate.execute(RedisTemplate.java:400) ~[app:3.5.1]
async-worker-2-1  | 	at org.springframework.data.redis.core.RedisTemplate.execute(RedisTemplate.java:380) ~[app:3.5.1]
async-worker-2-1  | 	at org.springframework.data.redis.core.AbstractOperations.execute(AbstractOperations.java:117) ~[app:3.5.1]
async-worker-2-1  | 	at org.springframework.data.redis.core.DefaultListOperations.leftPush(DefaultListOperations.java:111) ~[app:3.5.1]
async-worker-2-1  | 	at com.maal.asyncpaymentprocessor.application.service.PaymentHistoryService.recordPayment(PaymentHistoryService.java:48) ~[app:na]
async-worker-2-1  | 	at com.maal.asyncpaymentprocessor.application.usecase.ProcessPaymentUseCaseImpl.processPaymentAsync(ProcessPaymentUseCaseImpl.java:61) ~[app:na]
async-worker-2-1  | 	at com.maal.asyncpaymentprocessor.application.worker.PaymentProcessorWorkerImpl.processPaymentMessage(PaymentProcessorWorkerImpl.java:150) ~[app:na]
async-worker-2-1  | 	at com.maal.asyncpaymentprocessor.application.worker.PaymentProcessorWorkerImpl.lambda$submitPaymentForProcessing$0(PaymentProcessorWorkerImpl.java:136) ~[app:na]
async-worker-2-1  | 	at java.base@24.0.2/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:545) ~[na:na]
async-worker-2-1  | 	at java.base@24.0.2/java.util.concurrent.FutureTask.run(FutureTask.java:328) ~[app:na]
async-worker-2-1  | 	at java.base@24.0.2/java.lang.Thread.runWith(Thread.java:1460) ~[app:na]
async-worker-2-1  | 	at java.base@24.0.2/java.lang.VirtualThread.run(VirtualThread.java:466) ~[app:na]
async-worker-2-1  | 	at java.base@24.0.2/java.lang.VirtualThread$VThreadContinuation$1.run(VirtualThread.java:258) ~[na:na]
async-worker-2-1  | 
async-worker-2-1  | 2025-07-26T21:14:24.618Z ERROR 1 --- [AsyncPaymentProcessor] [   virtual-7894] c.m.a.a.service.PaymentHistoryService    : Falha ao gravar pagamento no Redis. CorrelationId: 02a4789f-5113-4499-bfea-e9ff09a14444, Error: LettuceConnectionFactory has been STOPPED. Use start() to initialize it
async-worker-2-1  | 
async-worker-2-1  | java.lang.IllegalStateException: LettuceConnectionFactory has been STOPPED. Use start() to initialize it
async-worker-2-1  | 	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory.assertStarted(LettuceConnectionFactory.java:1449) ~[app:3.5.1]
async-worker-2-1  | 	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory.getConnection(LettuceConnectionFactory.java:1049) ~[app:3.5.1]
async-worker-2-1  | 	at org.springframework.data.redis.core.RedisConnectionUtils.fetchConnection(RedisConnectionUtils.java:195) ~[na:na]
async-worker-2-1  | 	at org.springframework.data.redis.core.RedisConnectionUtils.doGetConnection(RedisConnectionUtils.java:144) ~[na:na]
async-worker-2-1  | 	at org.springframework.data.redis.core.RedisConnectionUtils.getConnection(RedisConnectionUtils.java:105) ~[na:na]
async-worker-2-1  | 	at org.springframework.data.redis.core.RedisTemplate.execute(RedisTemplate.java:400) ~[app:3.5.1]
async-worker-2-1  | 	at org.springframework.data.redis.core.RedisTemplate.execute(RedisTemplate.java:380) ~[app:3.5.1]
async-worker-2-1  | 	at org.springframework.data.redis.core.AbstractOperations.execute(AbstractOperations.java:117) ~[app:3.5.1]
async-worker-2-1  | 	at org.springframework.data.redis.core.DefaultListOperations.leftPush(DefaultListOperations.java:111) ~[app:3.5.1]
async-worker-2-1  | 	at com.maal.asyncpaymentprocessor.application.service.PaymentHistoryService.recordPayment(PaymentHistoryService.java:48) ~[app:na]
async-worker-2-1  | 	at com.maal.asyncpaymentprocessor.application.usecase.ProcessPaymentUseCaseImpl.processPaymentAsync(ProcessPaymentUseCaseImpl.java:61) ~[app:na]
async-worker-2-1  | 	at com.maal.asyncpaymentprocessor.application.worker.PaymentProcessorWorkerImpl.processPaymentMessage(PaymentProcessorWorkerImpl.java:150) ~[app:na]
async-worker-2-1  | 	at com.maal.asyncpaymentprocessor.application.worker.PaymentProcessorWorkerImpl.lambda$submitPaymentForProcessing$0(PaymentProcessorWorkerImpl.java:136) ~[app:na]
async-worker-2-1  | 	at java.base@24.0.2/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:545) ~[na:na]
async-worker-2-1  | 	at java.base@24.0.2/java.util.concurrent.FutureTask.run(FutureTask.java:328) ~[app:na]
async-worker-2-1  | 	at java.base@24.0.2/java.lang.Thread.runWith(Thread.java:1460) ~[app:na]
async-worker-2-1  | 	at java.base@24.0.2/java.lang.VirtualThread.run(VirtualThread.java:466) ~[app:na]
async-worker-2-1  | 	at java.base@24.0.2/java.lang.VirtualThread$VThreadContinuation$1.run(VirtualThread.java:258) ~[na:na]
async-worker-2-1  | 
async-worker-2-1  | 2025-07-26T21:14:24.618Z ERROR 1 --- [AsyncPaymentProcessor] [   virtual-7906] c.m.a.a.service.PaymentHistoryService    : Falha ao gravar pagamento no Redis. CorrelationId: 4ef5acec-78f0-43de-b800-c85bad5a4b10, Error: LettuceConnectionFactory has been STOPPED. Use start() to initialize it
async-worker-2-1  | 
async-worker-2-1  | java.lang.IllegalStateException: LettuceConnectionFactory has been STOPPED. Use start() to initialize it
async-worker-2-1  | 	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory.assertStarted(LettuceConnectionFactory.java:1449) ~[app:3.5.1]
async-worker-2-1  | 	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory.getConnection(LettuceConnectionFactory.java:1049) ~[app:3.5.1]
async-worker-2-1  | 	at org.springframework.data.redis.core.RedisConnectionUtils.fetchConnection(RedisConnectionUtils.java:195) ~[na:na]
async-worker-2-1  | 	at org.springframework.data.redis.core.RedisConnectionUtils.doGetConnection(RedisConnectionUtils.java:144) ~[na:na]
async-worker-2-1  | 	at org.springframework.data.redis.core.RedisConnectionUtils.getConnection(RedisConnectionUtils.java:105) ~[na:na]
async-worker-2-1  | 	at org.springframework.data.redis.core.RedisTemplate.execute(RedisTemplate.java:400) ~[app:3.5.1]
async-worker-2-1  | 	at org.springframework.data.redis.core.RedisTemplate.execute(RedisTemplate.java:380) ~[app:3.5.1]
async-worker-2-1  | 	at org.springframework.data.redis.core.AbstractOperations.execute(AbstractOperations.java:117) ~[app:3.5.1]
async-worker-2-1  | 	at org.springframework.data.redis.core.DefaultListOperations.leftPush(DefaultListOperations.java:111) ~[app:3.5.1]
async-worker-2-1  | 	at com.maal.asyncpaymentprocessor.application.service.PaymentHistoryService.recordPayment(PaymentHistoryService.java:48) ~[app:na]
async-worker-2-1  | 	at com.maal.asyncpaymentprocessor.application.usecase.ProcessPaymentUseCaseImpl.processPaymentAsync(ProcessPaymentUseCaseImpl.java:61) ~[app:na]
async-worker-2-1  | 	at com.maal.asyncpaymentprocessor.application.worker.PaymentProcessorWorkerImpl.processPaymentMessage(PaymentProcessorWorkerImpl.java:150) ~[app:na]
async-worker-2-1  | 	at com.maal.asyncpaymentprocessor.application.worker.PaymentProcessorWorkerImpl.lambda$submitPaymentForProcessing$0(PaymentProcessorWorkerImpl.java:136) ~[app:na]
async-worker-2-1  | 	at java.base@24.0.2/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:545) ~[na:na]
async-worker-2-1  | 	at java.base@24.0.2/java.util.concurrent.FutureTask.run(FutureTask.java:328) ~[app:na]
async-worker-2-1  | 	at java.base@24.0.2/java.lang.Thread.runWith(Thread.java:1460) ~[app:na]
async-worker-2-1  | 	at java.base@24.0.2/java.lang.VirtualThread.run(VirtualThread.java:466) ~[app:na]
async-worker-2-1  | 	at java.base@24.0.2/java.lang.VirtualThread$VThreadContinuation$1.run(VirtualThread.java:258) ~[na:na]
async-worker-2-1  | 
async-worker-2-1  | 2025-07-26T21:14:24.618Z ERROR 1 --- [AsyncPaymentProcessor] [   virtual-7893] c.m.a.a.service.PaymentHistoryService    : Falha ao gravar pagamento no Redis. CorrelationId: c162af3a-2ed3-4c89-b6f4-98e335d5d019, Error: LettuceConnectionFactory has been STOPPED. Use start() to initialize it
async-worker-2-1  | 
async-worker-2-1  | java.lang.IllegalStateException: LettuceConnectionFactory has been STOPPED. Use start() to initialize it
async-worker-2-1  | 	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory.assertStarted(LettuceConnectionFactory.java:1449) ~[app:3.5.1]
async-worker-2-1  | 	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory.getConnection(LettuceConnectionFactory.java:1049) ~[app:3.5.1]
async-worker-2-1  | 	at org.springframework.data.redis.core.RedisConnectionUtils.fetchConnection(RedisConnectionUtils.java:195) ~[na:na]
async-worker-2-1  | 	at org.springframework.data.redis.core.RedisConnectionUtils.doGetConnection(RedisConnectionUtils.java:144) ~[na:na]
async-worker-2-1  | 	at org.springframework.data.redis.core.RedisConnectionUtils.getConnection(RedisConnectionUtils.java:105) ~[na:na]
async-worker-2-1  | 	at org.springframework.data.redis.core.RedisTemplate.execute(RedisTemplate.java:400) ~[app:3.5.1]
async-worker-2-1  | 	at org.springframework.data.redis.core.RedisTemplate.execute(RedisTemplate.java:380) ~[app:3.5.1]
async-worker-2-1  | 	at org.springframework.data.redis.core.AbstractOperations.execute(AbstractOperations.java:117) ~[app:3.5.1]
async-worker-2-1  | 	at org.springframework.data.redis.core.DefaultListOperations.leftPush(DefaultListOperations.java:111) ~[app:3.5.1]
async-worker-2-1  | 	at com.maal.asyncpaymentprocessor.application.service.PaymentHistoryService.recordPayment(PaymentHistoryService.java:48) ~[app:na]
async-worker-2-1  | 	at com.maal.asyncpaymentprocessor.application.usecase.ProcessPaymentUseCaseImpl.processPaymentAsync(ProcessPaymentUseCaseImpl.java:61) ~[app:na]
async-worker-2-1  | 	at com.maal.asyncpaymentprocessor.application.worker.PaymentProcessorWorkerImpl.processPaymentMessage(PaymentProcessorWorkerImpl.java:150) ~[app:na]
async-worker-2-1  | 	at com.maal.asyncpaymentprocessor.application.worker.PaymentProcessorWorkerImpl.lambda$submitPaymentForProcessing$0(PaymentProcessorWorkerImpl.java:136) ~[app:na]
async-worker-2-1  | 	at java.base@24.0.2/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:545) ~[na:na]
async-worker-2-1  | 	at java.base@24.0.2/java.util.concurrent.FutureTask.run(FutureTask.java:328) ~[app:na]
async-worker-2-1  | 	at java.base@24.0.2/java.lang.Thread.runWith(Thread.java:1460) ~[app:na]
async-worker-2-1  | 	at java.base@24.0.2/java.lang.VirtualThread.run(VirtualThread.java:466) ~[app:na]
async-worker-2-1  | 	at java.base@24.0.2/java.lang.VirtualThread$VThreadContinuation$1.run(VirtualThread.java:258) ~[na:na]
async-worker-2-1  | 
async-worker-2-1  | 2025-07-26T21:14:24.618Z ERROR 1 --- [AsyncPaymentProcessor] [   virtual-7910] c.m.a.a.service.PaymentHistoryService    : Falha ao gravar pagamento no Redis. CorrelationId: 9d65bbc4-1bb2-4913-9443-00271c064122, Error: LettuceConnectionFactory has been STOPPED. Use start() to initialize it
async-worker-2-1  | 
async-worker-2-1  | java.lang.IllegalStateException: LettuceConnectionFactory has been STOPPED. Use start() to initialize it
async-worker-2-1  | 	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory.assertStarted(LettuceConnectionFactory.java:1449) ~[app:3.5.1]
async-worker-2-1  | 	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory.getConnection(LettuceConnectionFactory.java:1049) ~[app:3.5.1]
async-worker-2-1  | 	at org.springframework.data.redis.core.RedisConnectionUtils.fetchConnection(RedisConnectionUtils.java:195) ~[na:na]
async-worker-2-1  | 	at org.springframework.data.redis.core.RedisConnectionUtils.doGetConnection(RedisConnectionUtils.java:144) ~[na:na]
async-worker-2-1  | 	at org.springframework.data.redis.core.RedisConnectionUtils.getConnection(RedisConnectionUtils.java:105) ~[na:na]
async-worker-2-1  | 	at org.springframework.data.redis.core.RedisTemplate.execute(RedisTemplate.java:400) ~[app:3.5.1]
async-worker-2-1  | 	at org.springframework.data.redis.core.RedisTemplate.execute(RedisTemplate.java:380) ~[app:3.5.1]
async-worker-2-1  | 	at org.springframework.data.redis.core.AbstractOperations.execute(AbstractOperations.java:117) ~[app:3.5.1]
async-worker-2-1  | 	at org.springframework.data.redis.core.DefaultListOperations.leftPush(DefaultListOperations.java:111) ~[app:3.5.1]
async-worker-2-1  | 	at com.maal.asyncpaymentprocessor.application.service.PaymentHistoryService.recordPayment(PaymentHistoryService.java:48) ~[app:na]
async-worker-2-1  | 	at com.maal.asyncpaymentprocessor.application.usecase.ProcessPaymentUseCaseImpl.processPaymentAsync(ProcessPaymentUseCaseImpl.java:61) ~[app:na]
async-worker-2-1  | 	at com.maal.asyncpaymentprocessor.application.worker.PaymentProcessorWorkerImpl.processPaymentMessage(PaymentProcessorWorkerImpl.java:150) ~[app:na]
async-worker-2-1  | 	at com.maal.asyncpaymentprocessor.application.worker.PaymentProcessorWorkerImpl.lambda$submitPaymentForProcessing$0(PaymentProcessorWorkerImpl.java:136) ~[app:na]
async-worker-2-1  | 	at java.base@24.0.2/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:545) ~[na:na]
async-worker-2-1  | 	at java.base@24.0.2/java.util.concurrent.FutureTask.run(FutureTask.java:328) ~[app:na]
async-worker-2-1  | 	at java.base@24.0.2/java.lang.Thread.runWith(Thread.java:1460) ~[app:na]
async-worker-2-1  | 	at java.base@24.0.2/java.lang.VirtualThread.run(VirtualThread.java:466) ~[app:na]
async-worker-2-1  | 	at java.base@24.0.2/java.lang.VirtualThread$VThreadContinuation$1.run(VirtualThread.java:258) ~[na:na]
async-worker-2-1  | 
async-worker-2-1  | 2025-07-26T21:14:24.618Z ERROR 1 --- [AsyncPaymentProcessor] [   virtual-7907] c.m.a.a.service.PaymentHistoryService    : Falha ao gravar pagamento no Redis. CorrelationId: 8c9a9140-55b9-44a2-befa-15c99e0df505, Error: LettuceConnectionFactory has been STOPPED. Use start() to initialize it
async-worker-2-1  | 
async-worker-2-1  | java.lang.IllegalStateException: LettuceConnectionFactory has been STOPPED. Use start() to initialize it
async-worker-2-1  | 	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory.assertStarted(LettuceConnectionFactory.java:1449) ~[app:3.5.1]
async-worker-2-1  | 	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory.getConnection(LettuceConnectionFactory.java:1049) ~[app:3.5.1]
async-worker-2-1  | 	at org.springframework.data.redis.core.RedisConnectionUtils.fetchConnection(RedisConnectionUtils.java:195) ~[na:na]
async-worker-2-1  | 	at org.springframework.data.redis.core.RedisConnectionUtils.doGetConnection(RedisConnectionUtils.java:144) ~[na:na]
async-worker-2-1  | 	at org.springframework.data.redis.core.RedisConnectionUtils.getConnection(RedisConnectionUtils.java:105) ~[na:na]
async-worker-2-1  | 	at org.springframework.data.redis.core.RedisTemplate.execute(RedisTemplate.java:400) ~[app:3.5.1]
async-worker-2-1  | 	at org.springframework.data.redis.core.RedisTemplate.execute(RedisTemplate.java:380) ~[app:3.5.1]
async-worker-2-1  | 	at org.springframework.data.redis.core.AbstractOperations.execute(AbstractOperations.java:117) ~[app:3.5.1]
async-worker-2-1  | 	at org.springframework.data.redis.core.DefaultListOperations.leftPush(DefaultListOperations.java:111) ~[app:3.5.1]
async-worker-2-1  | 	at com.maal.asyncpaymentprocessor.application.service.PaymentHistoryService.recordPayment(PaymentHistoryService.java:48) ~[app:na]
async-worker-2-1  | 	at com.maal.asyncpaymentprocessor.application.usecase.ProcessPaymentUseCaseImpl.processPaymentAsync(ProcessPaymentUseCaseImpl.java:61) ~[app:na]
async-worker-2-1  | 	at com.maal.asyncpaymentprocessor.application.worker.PaymentProcessorWorkerImpl.processPaymentMessage(PaymentProcessorWorkerImpl.java:150) ~[app:na]
async-worker-2-1  | 	at com.maal.asyncpaymentprocessor.application.worker.PaymentProcessorWorkerImpl.lambda$submitPaymentForProcessing$0(PaymentProcessorWorkerImpl.java:136) ~[app:na]
async-worker-2-1  | 	at java.base@24.0.2/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:545) ~[na:na]
async-worker-2-1  | 	at java.base@24.0.2/java.util.concurrent.FutureTask.run(FutureTask.java:328) ~[app:na]
async-worker-2-1  | 	at java.base@24.0.2/java.lang.Thread.runWith(Thread.java:1460) ~[app:na]
async-worker-2-1  | 	at java.base@24.0.2/java.lang.VirtualThread.run(VirtualThread.java:466) ~[app:na]
async-worker-2-1  | 	at java.base@24.0.2/java.lang.VirtualThread$VThreadContinuation$1.run(VirtualThread.java:258) ~[na:na]
async-worker-2-1  | 
async-worker-2-1  | 2025-07-26T21:14:24.618Z ERROR 1 --- [AsyncPaymentProcessor] [   virtual-7892] c.m.a.a.service.PaymentHistoryService    : Falha ao gravar pagamento no Redis. CorrelationId: 07cc947a-9f18-4ed4-a5b6-5f6232a518ea, Error: LettuceConnectionFactory has been STOPPED. Use start() to initialize it
async-worker-2-1  | 
async-worker-2-1  | java.lang.IllegalStateException: LettuceConnectionFactory has been STOPPED. Use start() to initialize it
async-worker-2-1  | 	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory.assertStarted(LettuceConnectionFactory.java:1449) ~[app:3.5.1]
async-worker-2-1  | 	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory.getConnection(LettuceConnectionFactory.java:1049) ~[app:3.5.1]
async-worker-2-1  | 	at org.springframework.data.redis.core.RedisConnectionUtils.fetchConnection(RedisConnectionUtils.java:195) ~[na:na]
async-worker-2-1  | 	at org.springframework.data.redis.core.RedisConnectionUtils.doGetConnection(RedisConnectionUtils.java:144) ~[na:na]
async-worker-2-1  | 	at org.springframework.data.redis.core.RedisConnectionUtils.getConnection(RedisConnectionUtils.java:105) ~[na:na]
async-worker-2-1  | 	at org.springframework.data.redis.core.RedisTemplate.execute(RedisTemplate.java:400) ~[app:3.5.1]
async-worker-2-1  | 	at org.springframework.data.redis.core.RedisTemplate.execute(RedisTemplate.java:380) ~[app:3.5.1]
async-worker-2-1  | 	at org.springframework.data.redis.core.AbstractOperations.execute(AbstractOperations.java:117) ~[app:3.5.1]
async-worker-2-1  | 	at org.springframework.data.redis.core.DefaultListOperations.leftPush(DefaultListOperations.java:111) ~[app:3.5.1]
async-worker-2-1  | 	at com.maal.asyncpaymentprocessor.application.service.PaymentHistoryService.recordPayment(PaymentHistoryService.java:48) ~[app:na]
async-worker-2-1  | 	at com.maal.asyncpaymentprocessor.application.usecase.ProcessPaymentUseCaseImpl.processPaymentAsync(ProcessPaymentUseCaseImpl.java:61) ~[app:na]
async-worker-2-1  | 	at com.maal.asyncpaymentprocessor.application.worker.PaymentProcessorWorkerImpl.processPaymentMessage(PaymentProcessorWorkerImpl.java:150) ~[app:na]
async-worker-2-1  | 	at com.maal.asyncpaymentprocessor.application.worker.PaymentProcessorWorkerImpl.lambda$submitPaymentForProcessing$0(PaymentProcessorWorkerImpl.java:136) ~[app:na]
async-worker-2-1  | 	at java.base@24.0.2/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:545) ~[na:na]
async-worker-2-1  | 	at java.base@24.0.2/java.util.concurrent.FutureTask.run(FutureTask.java:328) ~[app:na]
async-worker-2-1  | 	at java.base@24.0.2/java.lang.Thread.runWith(Thread.java:1460) ~[app:na]
async-worker-2-1  | 	at java.base@24.0.2/java.lang.VirtualThread.run(VirtualThread.java:466) ~[app:na]
async-worker-2-1  | 	at java.base@24.0.2/java.lang.VirtualThread$VThreadContinuation$1.run(VirtualThread.java:258) ~[na:na]
async-worker-2-1  | 
async-worker-2-1  | 2025-07-26T21:14:24.619Z ERROR 1 --- [AsyncPaymentProcessor] [   virtual-7911] c.m.a.a.service.PaymentHistoryService    : Falha ao gravar pagamento no Redis. CorrelationId: b4c58225-fc59-4a39-9433-0ed66297f5d3, Error: LettuceConnectionFactory has been STOPPED. Use start() to initialize it
async-worker-2-1  | 
async-worker-2-1  | java.lang.IllegalStateException: LettuceConnectionFactory has been STOPPED. Use start() to initialize it
async-worker-2-1  | 	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory.assertStarted(LettuceConnectionFactory.java:1449) ~[app:3.5.1]
async-worker-2-1  | 	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory.getConnection(LettuceConnectionFactory.java:1049) ~[app:3.5.1]
async-worker-2-1  | 	at org.springframework.data.redis.core.RedisConnectionUtils.fetchConnection(RedisConnectionUtils.java:195) ~[na:na]
async-worker-2-1  | 	at org.springframework.data.redis.core.RedisConnectionUtils.doGetConnection(RedisConnectionUtils.java:144) ~[na:na]
async-worker-2-1  | 	at org.springframework.data.redis.core.RedisConnectionUtils.getConnection(RedisConnectionUtils.java:105) ~[na:na]
async-worker-2-1  | 	at org.springframework.data.redis.core.RedisTemplate.execute(RedisTemplate.java:400) ~[app:3.5.1]
async-worker-2-1  | 	at org.springframework.data.redis.core.RedisTemplate.execute(RedisTemplate.java:380) ~[app:3.5.1]
async-worker-2-1  | 	at org.springframework.data.redis.core.AbstractOperations.execute(AbstractOperations.java:117) ~[app:3.5.1]
async-worker-2-1  | 	at org.springframework.data.redis.core.DefaultListOperations.leftPush(DefaultListOperations.java:111) ~[app:3.5.1]
async-worker-2-1  | 	at com.maal.asyncpaymentprocessor.application.service.PaymentHistoryService.recordPayment(PaymentHistoryService.java:48) ~[app:na]
async-worker-2-1  | 	at com.maal.asyncpaymentprocessor.application.usecase.ProcessPaymentUseCaseImpl.processPaymentAsync(ProcessPaymentUseCaseImpl.java:61) ~[app:na]
async-worker-2-1  | 	at com.maal.asyncpaymentprocessor.application.worker.PaymentProcessorWorkerImpl.processPaymentMessage(PaymentProcessorWorkerImpl.java:150) ~[app:na]
async-worker-2-1  | 	at com.maal.asyncpaymentprocessor.application.worker.PaymentProcessorWorkerImpl.lambda$submitPaymentForProcessing$0(PaymentProcessorWorkerImpl.java:136) ~[app:na]
async-worker-2-1  | 	at java.base@24.0.2/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:545) ~[na:na]
async-worker-2-1  | 	at java.base@24.0.2/java.util.concurrent.FutureTask.run(FutureTask.java:328) ~[app:na]
async-worker-2-1  | 	at java.base@24.0.2/java.lang.Thread.runWith(Thread.java:1460) ~[app:na]
async-worker-2-1  | 	at java.base@24.0.2/java.lang.VirtualThread.run(VirtualThread.java:466) ~[app:na]
async-worker-2-1  | 	at java.base@24.0.2/java.lang.VirtualThread$VThreadContinuation$1.run(VirtualThread.java:258) ~[na:na]
async-worker-2-1  | 
async-worker-2-1  | 2025-07-26T21:14:24.619Z ERROR 1 --- [AsyncPaymentProcessor] [   virtual-7909] c.m.a.a.service.PaymentHistoryService    : Falha ao gravar pagamento no Redis. CorrelationId: 72b7306e-81a3-4e17-b06a-157c500c1238, Error: LettuceConnectionFactory has been STOPPED. Use start() to initialize it
async-worker-2-1  | 
async-worker-2-1  | java.lang.IllegalStateException: LettuceConnectionFactory has been STOPPED. Use start() to initialize it
async-worker-2-1  | 	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory.assertStarted(LettuceConnectionFactory.java:1449) ~[app:3.5.1]
async-worker-2-1  | 	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory.getConnection(LettuceConnectionFactory.java:1049) ~[app:3.5.1]
async-worker-2-1  | 	at org.springframework.data.redis.core.RedisConnectionUtils.fetchConnection(RedisConnectionUtils.java:195) ~[na:na]
async-worker-2-1  | 	at org.springframework.data.redis.core.RedisConnectionUtils.doGetConnection(RedisConnectionUtils.java:144) ~[na:na]
async-worker-2-1  | 	at org.springframework.data.redis.core.RedisConnectionUtils.getConnection(RedisConnectionUtils.java:105) ~[na:na]
async-worker-2-1  | 	at org.springframework.data.redis.core.RedisTemplate.execute(RedisTemplate.java:400) ~[app:3.5.1]
async-worker-2-1  | 	at org.springframework.data.redis.core.RedisTemplate.execute(RedisTemplate.java:380) ~[app:3.5.1]
async-worker-2-1  | 	at org.springframework.data.redis.core.AbstractOperations.execute(AbstractOperations.java:117) ~[app:3.5.1]
async-worker-2-1  | 	at org.springframework.data.redis.core.DefaultListOperations.leftPush(DefaultListOperations.java:111) ~[app:3.5.1]
async-worker-2-1  | 	at com.maal.asyncpaymentprocessor.application.service.PaymentHistoryService.recordPayment(PaymentHistoryService.java:48) ~[app:na]
async-worker-2-1  | 	at com.maal.asyncpaymentprocessor.application.usecase.ProcessPaymentUseCaseImpl.processPaymentAsync(ProcessPaymentUseCaseImpl.java:61) ~[app:na]
async-worker-2-1  | 	at com.maal.asyncpaymentprocessor.application.worker.PaymentProcessorWorkerImpl.processPaymentMessage(PaymentProcessorWorkerImpl.java:150) ~[app:na]
async-worker-2-1  | 	at com.maal.asyncpaymentprocessor.application.worker.PaymentProcessorWorkerImpl.lambda$submitPaymentForProcessing$0(PaymentProcessorWorkerImpl.java:136) ~[app:na]
async-worker-2-1  | 	at java.base@24.0.2/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:545) ~[na:na]
async-worker-2-1  | 	at java.base@24.0.2/java.util.concurrent.FutureTask.run(FutureTask.java:328) ~[app:na]
async-worker-2-1  | 	at java.base@24.0.2/java.lang.Thread.runWith(Thread.java:1460) ~[app:na]
async-worker-2-1  | 	at java.base@24.0.2/java.lang.VirtualThread.run(VirtualThread.java:466) ~[app:na]
async-worker-2-1  | 	at java.base@24.0.2/java.lang.VirtualThread$VThreadContinuation$1.run(VirtualThread.java:258) ~[na:na]
async-worker-2-1  | 
async-worker-2-1  | 2025-07-26T21:14:24.619Z ERROR 1 --- [AsyncPaymentProcessor] [   virtual-7912] c.m.a.a.service.PaymentHistoryService    : Falha ao gravar pagamento no Redis. CorrelationId: 726662a7-db41-42ab-bc30-59c98a113b4f, Error: LettuceConnectionFactory has been STOPPED. Use start() to initialize it
async-worker-2-1  | 
async-worker-2-1  | java.lang.IllegalStateException: LettuceConnectionFactory has been STOPPED. Use start() to initialize it
async-worker-2-1  | 	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory.assertStarted(LettuceConnectionFactory.java:1449) ~[app:3.5.1]
async-worker-2-1  | 	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory.getConnection(LettuceConnectionFactory.java:1049) ~[app:3.5.1]
async-worker-2-1  | 	at org.springframework.data.redis.core.RedisConnectionUtils.fetchConnection(RedisConnectionUtils.java:195) ~[na:na]
async-worker-2-1  | 	at org.springframework.data.redis.core.RedisConnectionUtils.doGetConnection(RedisConnectionUtils.java:144) ~[na:na]
async-worker-2-1  | 	at org.springframework.data.redis.core.RedisConnectionUtils.getConnection(RedisConnectionUtils.java:105) ~[na:na]
async-worker-2-1  | 	at org.springframework.data.redis.core.RedisTemplate.execute(RedisTemplate.java:400) ~[app:3.5.1]
async-worker-2-1  | 	at org.springframework.data.redis.core.RedisTemplate.execute(RedisTemplate.java:380) ~[app:3.5.1]
async-worker-2-1  | 	at org.springframework.data.redis.core.AbstractOperations.execute(AbstractOperations.java:117) ~[app:3.5.1]
async-worker-2-1  | 	at org.springframework.data.redis.core.DefaultListOperations.leftPush(DefaultListOperations.java:111) ~[app:3.5.1]
async-worker-2-1  | 	at com.maal.asyncpaymentprocessor.application.service.PaymentHistoryService.recordPayment(PaymentHistoryService.java:48) ~[app:na]
async-worker-2-1  | 	at com.maal.asyncpaymentprocessor.application.usecase.ProcessPaymentUseCaseImpl.processPaymentAsync(ProcessPaymentUseCaseImpl.java:61) ~[app:na]
async-worker-2-1  | 	at com.maal.asyncpaymentprocessor.application.worker.PaymentProcessorWorkerImpl.processPaymentMessage(PaymentProcessorWorkerImpl.java:150) ~[app:na]
async-worker-2-1  | 	at com.maal.asyncpaymentprocessor.application.worker.PaymentProcessorWorkerImpl.lambda$submitPaymentForProcessing$0(PaymentProcessorWorkerImpl.java:136) ~[app:na]
async-worker-2-1  | 	at java.base@24.0.2/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:545) ~[na:na]
async-worker-2-1  | 	at java.base@24.0.2/java.util.concurrent.FutureTask.run(FutureTask.java:328) ~[app:na]
async-worker-2-1  | 	at java.base@24.0.2/java.lang.Thread.runWith(Thread.java:1460) ~[app:na]
async-worker-2-1  | 	at java.base@24.0.2/java.lang.VirtualThread.run(VirtualThread.java:466) ~[app:na]
async-worker-2-1  | 	at java.base@24.0.2/java.lang.VirtualThread$VThreadContinuation$1.run(VirtualThread.java:258) ~[na:na]
async-worker-2-1  | 
async-worker-2-1  | 2025-07-26T21:14:24.619Z ERROR 1 --- [AsyncPaymentProcessor] [   virtual-7870] c.m.a.a.service.PaymentHistoryService    : Falha ao gravar pagamento no Redis. CorrelationId: 87a1066b-a32a-4132-b577-1518e43b8c75, Error: LettuceConnectionFactory has been STOPPED. Use start() to initialize it
async-worker-2-1  | 
async-worker-2-1  | java.lang.IllegalStateException: LettuceConnectionFactory has been STOPPED. Use start() to initialize it
async-worker-2-1  | 	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory.assertStarted(LettuceConnectionFactory.java:1449) ~[app:3.5.1]
async-worker-2-1  | 	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory.getConnection(LettuceConnectionFactory.java:1049) ~[app:3.5.1]
async-worker-2-1  | 	at org.springframework.data.redis.core.RedisConnectionUtils.fetchConnection(RedisConnectionUtils.java:195) ~[na:na]
async-worker-2-1  | 	at org.springframework.data.redis.core.RedisConnectionUtils.doGetConnection(RedisConnectionUtils.java:144) ~[na:na]
async-worker-2-1  | 	at org.springframework.data.redis.core.RedisConnectionUtils.getConnection(RedisConnectionUtils.java:105) ~[na:na]
async-worker-2-1  | 	at org.springframework.data.redis.core.RedisTemplate.execute(RedisTemplate.java:400) ~[app:3.5.1]
async-worker-2-1  | 	at org.springframework.data.redis.core.RedisTemplate.execute(RedisTemplate.java:380) ~[app:3.5.1]
async-worker-2-1  | 	at org.springframework.data.redis.core.AbstractOperations.execute(AbstractOperations.java:117) ~[app:3.5.1]
async-worker-2-1  | 	at org.springframework.data.redis.core.DefaultListOperations.leftPush(DefaultListOperations.java:111) ~[app:3.5.1]
async-worker-2-1  | 	at com.maal.asyncpaymentprocessor.application.service.PaymentHistoryService.recordPayment(PaymentHistoryService.java:48) ~[app:na]
async-worker-2-1  | 	at com.maal.asyncpaymentprocessor.application.usecase.ProcessPaymentUseCaseImpl.processPaymentAsync(ProcessPaymentUseCaseImpl.java:61) ~[app:na]
async-worker-2-1  | 	at com.maal.asyncpaymentprocessor.application.worker.PaymentProcessorWorkerImpl.processPaymentMessage(PaymentProcessorWorkerImpl.java:150) ~[app:na]
async-worker-2-1  | 	at com.maal.asyncpaymentprocessor.application.worker.PaymentProcessorWorkerImpl.lambda$submitPaymentForProcessing$0(PaymentProcessorWorkerImpl.java:136) ~[app:na]
async-worker-2-1  | 	at java.base@24.0.2/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:545) ~[na:na]
async-worker-2-1  | 	at java.base@24.0.2/java.util.concurrent.FutureTask.run(FutureTask.java:328) ~[app:na]
async-worker-2-1  | 	at java.base@24.0.2/java.lang.Thread.runWith(Thread.java:1460) ~[app:na]
async-worker-2-1  | 	at java.base@24.0.2/java.lang.VirtualThread.run(VirtualThread.java:466) ~[app:na]
async-worker-2-1  | 	at java.base@24.0.2/java.lang.VirtualThread$VThreadContinuation$1.run(VirtualThread.java:258) ~[na:na]
async-worker-2-1  | 
async-worker-2-1  | 2025-07-26T21:14:24.619Z ERROR 1 --- [AsyncPaymentProcessor] [   virtual-7860] c.m.a.a.service.PaymentHistoryService    : Falha ao gravar pagamento no Redis. CorrelationId: 5f95b6d2-1dd0-42cd-8eb7-c5bbddb9377b, Error: LettuceConnectionFactory has been STOPPED. Use start() to initialize it
async-worker-2-1  | 
async-worker-2-1  | java.lang.IllegalStateException: LettuceConnectionFactory has been STOPPED. Use start() to initialize it
async-worker-2-1  | 	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory.assertStarted(LettuceConnectionFactory.java:1449) ~[app:3.5.1]
async-worker-2-1  | 	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory.getConnection(LettuceConnectionFactory.java:1049) ~[app:3.5.1]
async-worker-2-1  | 	at org.springframework.data.redis.core.RedisConnectionUtils.fetchConnection(RedisConnectionUtils.java:195) ~[na:na]
async-worker-2-1  | 	at org.springframework.data.redis.core.RedisConnectionUtils.doGetConnection(RedisConnectionUtils.java:144) ~[na:na]
async-worker-2-1  | 	at org.springframework.data.redis.core.RedisConnectionUtils.getConnection(RedisConnectionUtils.java:105) ~[na:na]
async-worker-2-1  | 	at org.springframework.data.redis.core.RedisTemplate.execute(RedisTemplate.java:400) ~[app:3.5.1]
async-worker-2-1  | 	at org.springframework.data.redis.core.RedisTemplate.execute(RedisTemplate.java:380) ~[app:3.5.1]
async-worker-2-1  | 	at org.springframework.data.redis.core.AbstractOperations.execute(AbstractOperations.java:117) ~[app:3.5.1]
async-worker-2-1  | 	at org.springframework.data.redis.core.DefaultListOperations.leftPush(DefaultListOperations.java:111) ~[app:3.5.1]
async-worker-2-1  | 	at com.maal.asyncpaymentprocessor.application.service.PaymentHistoryService.recordPayment(PaymentHistoryService.java:48) ~[app:na]
async-worker-2-1  | 	at com.maal.asyncpaymentprocessor.application.usecase.ProcessPaymentUseCaseImpl.processPaymentAsync(ProcessPaymentUseCaseImpl.java:61) ~[app:na]
async-worker-2-1  | 	at com.maal.asyncpaymentprocessor.application.worker.PaymentProcessorWorkerImpl.processPaymentMessage(PaymentProcessorWorkerImpl.java:150) ~[app:na]
async-worker-2-1  | 	at com.maal.asyncpaymentprocessor.application.worker.PaymentProcessorWorkerImpl.lambda$submitPaymentForProcessing$0(PaymentProcessorWorkerImpl.java:136) ~[app:na]
async-worker-2-1  | 	at java.base@24.0.2/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:545) ~[na:na]
async-worker-2-1  | 	at java.base@24.0.2/java.util.concurrent.FutureTask.run(FutureTask.java:328) ~[app:na]
async-worker-2-1  | 	at java.base@24.0.2/java.lang.Thread.runWith(Thread.java:1460) ~[app:na]
async-worker-2-1  | 	at java.base@24.0.2/java.lang.VirtualThread.run(VirtualThread.java:466) ~[app:na]
async-worker-2-1  | 	at java.base@24.0.2/java.lang.VirtualThread$VThreadContinuation$1.run(VirtualThread.java:258) ~[na:na]
async-worker-2-1  | 
async-worker-2-1  | 2025-07-26T21:14:24.619Z ERROR 1 --- [AsyncPaymentProcessor] [   virtual-7878] c.m.a.a.service.PaymentHistoryService    : Falha ao gravar pagamento no Redis. CorrelationId: 42bde05c-f371-4a22-9e81-c7a29598dc1f, Error: LettuceConnectionFactory has been STOPPED. Use start() to initialize it
async-worker-2-1  | 
async-worker-2-1  | java.lang.IllegalStateException: LettuceConnectionFactory has been STOPPED. Use start() to initialize it
async-worker-2-1  | 	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory.assertStarted(LettuceConnectionFactory.java:1449) ~[app:3.5.1]
async-worker-2-1  | 	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory.getConnection(LettuceConnectionFactory.java:1049) ~[app:3.5.1]
async-worker-2-1  | 	at org.springframework.data.redis.core.RedisConnectionUtils.fetchConnection(RedisConnectionUtils.java:195) ~[na:na]
async-worker-2-1  | 	at org.springframework.data.redis.core.RedisConnectionUtils.doGetConnection(RedisConnectionUtils.java:144) ~[na:na]
async-worker-2-1  | 	at org.springframework.data.redis.core.RedisConnectionUtils.getConnection(RedisConnectionUtils.java:105) ~[na:na]
async-worker-2-1  | 	at org.springframework.data.redis.core.RedisTemplate.execute(RedisTemplate.java:400) ~[app:3.5.1]
async-worker-2-1  | 	at org.springframework.data.redis.core.RedisTemplate.execute(RedisTemplate.java:380) ~[app:3.5.1]
async-worker-2-1  | 	at org.springframework.data.redis.core.AbstractOperations.execute(AbstractOperations.java:117) ~[app:3.5.1]
async-worker-2-1  | 	at org.springframework.data.redis.core.DefaultListOperations.leftPush(DefaultListOperations.java:111) ~[app:3.5.1]
async-worker-2-1  | 	at com.maal.asyncpaymentprocessor.application.service.PaymentHistoryService.recordPayment(PaymentHistoryService.java:48) ~[app:na]
async-worker-2-1  | 	at com.maal.asyncpaymentprocessor.application.usecase.ProcessPaymentUseCaseImpl.processPaymentAsync(ProcessPaymentUseCaseImpl.java:61) ~[app:na]
async-worker-2-1  | 	at com.maal.asyncpaymentprocessor.application.worker.PaymentProcessorWorkerImpl.processPaymentMessage(PaymentProcessorWorkerImpl.java:150) ~[app:na]
async-worker-2-1  | 	at com.maal.asyncpaymentprocessor.application.worker.PaymentProcessorWorkerImpl.lambda$submitPaymentForProcessing$0(PaymentProcessorWorkerImpl.java:136) ~[app:na]
async-worker-2-1  | 	at java.base@24.0.2/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:545) ~[na:na]
async-worker-2-1  | 	at java.base@24.0.2/java.util.concurrent.FutureTask.run(FutureTask.java:328) ~[app:na]
async-worker-2-1  | 	at java.base@24.0.2/java.lang.Thread.runWith(Thread.java:1460) ~[app:na]
async-worker-2-1  | 	at java.base@24.0.2/java.lang.VirtualThread.run(VirtualThread.java:466) ~[app:na]
async-worker-2-1  | 	at java.base@24.0.2/java.lang.VirtualThread$VThreadContinuation$1.run(VirtualThread.java:258) ~[na:na]
async-worker-2-1  | 
async-worker-2-1  | 2025-07-26T21:14:24.619Z ERROR 1 --- [AsyncPaymentProcessor] [   virtual-7867] c.m.a.a.service.PaymentHistoryService    : Falha ao gravar pagamento no Redis. CorrelationId: 57c8f1e1-2b5f-4377-994a-fc7c79a60ddb, Error: LettuceConnectionFactory has been STOPPED. Use start() to initialize it
async-worker-2-1  | 
async-worker-2-1  | java.lang.IllegalStateException: LettuceConnectionFactory has been STOPPED. Use start() to initialize it
async-worker-2-1  | 	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory.assertStarted(LettuceConnectionFactory.java:1449) ~[app:3.5.1]
async-worker-2-1  | 	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory.getConnection(LettuceConnectionFactory.java:1049) ~[app:3.5.1]
async-worker-2-1  | 	at org.springframework.data.redis.core.RedisConnectionUtils.fetchConnection(RedisConnectionUtils.java:195) ~[na:na]
async-worker-2-1  | 	at org.springframework.data.redis.core.RedisConnectionUtils.doGetConnection(RedisConnectionUtils.java:144) ~[na:na]
async-worker-2-1  | 	at org.springframework.data.redis.core.RedisConnectionUtils.getConnection(RedisConnectionUtils.java:105) ~[na:na]
async-worker-2-1  | 	at org.springframework.data.redis.core.RedisTemplate.execute(RedisTemplate.java:400) ~[app:3.5.1]
async-worker-2-1  | 	at org.springframework.data.redis.core.RedisTemplate.execute(RedisTemplate.java:380) ~[app:3.5.1]
async-worker-2-1  | 	at org.springframework.data.redis.core.AbstractOperations.execute(AbstractOperations.java:117) ~[app:3.5.1]
async-worker-2-1  | 	at org.springframework.data.redis.core.DefaultListOperations.leftPush(DefaultListOperations.java:111) ~[app:3.5.1]
async-worker-2-1  | 	at com.maal.asyncpaymentprocessor.application.service.PaymentHistoryService.recordPayment(PaymentHistoryService.java:48) ~[app:na]
async-worker-2-1  | 	at com.maal.asyncpaymentprocessor.application.usecase.ProcessPaymentUseCaseImpl.processPaymentAsync(ProcessPaymentUseCaseImpl.java:61) ~[app:na]
async-worker-2-1  | 	at com.maal.asyncpaymentprocessor.application.worker.PaymentProcessorWorkerImpl.processPaymentMessage(PaymentProcessorWorkerImpl.java:150) ~[app:na]
async-worker-2-1  | 	at com.maal.asyncpaymentprocessor.application.worker.PaymentProcessorWorkerImpl.lambda$submitPaymentForProcessing$0(PaymentProcessorWorkerImpl.java:136) ~[app:na]
async-worker-2-1  | 	at java.base@24.0.2/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:545) ~[na:na]
async-worker-2-1  | 	at java.base@24.0.2/java.util.concurrent.FutureTask.run(FutureTask.java:328) ~[app:na]
async-worker-2-1  | 	at java.base@24.0.2/java.lang.Thread.runWith(Thread.java:1460) ~[app:na]
async-worker-2-1  | 	at java.base@24.0.2/java.lang.VirtualThread.run(VirtualThread.java:466) ~[app:na]
async-worker-2-1  | 	at java.base@24.0.2/java.lang.VirtualThread$VThreadContinuation$1.run(VirtualThread.java:258) ~[na:na]
async-worker-2-1  | 
async-worker-2-1  | 2025-07-26T21:14:24.619Z ERROR 1 --- [AsyncPaymentProcessor] [   virtual-7879] c.m.a.a.service.PaymentHistoryService    : Falha ao gravar pagamento no Redis. CorrelationId: 6835ce57-41fc-49fc-9ffb-70a3646952f0, Error: LettuceConnectionFactory has been STOPPED. Use start() to initialize it
async-worker-2-1  | 
async-worker-2-1  | java.lang.IllegalStateException: LettuceConnectionFactory has been STOPPED. Use start() to initialize it
async-worker-2-1  | 	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory.assertStarted(LettuceConnectionFactory.java:1449) ~[app:3.5.1]
async-worker-2-1  | 	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory.getConnection(LettuceConnectionFactory.java:1049) ~[app:3.5.1]
async-worker-2-1  | 	at org.springframework.data.redis.core.RedisConnectionUtils.fetchConnection(RedisConnectionUtils.java:195) ~[na:na]
async-worker-2-1  | 	at org.springframework.data.redis.core.RedisConnectionUtils.doGetConnection(RedisConnectionUtils.java:144) ~[na:na]
async-worker-2-1  | 	at org.springframework.data.redis.core.RedisConnectionUtils.getConnection(RedisConnectionUtils.java:105) ~[na:na]
async-worker-2-1  | 	at org.springframework.data.redis.core.RedisTemplate.execute(RedisTemplate.java:400) ~[app:3.5.1]
async-worker-2-1  | 	at org.springframework.data.redis.core.RedisTemplate.execute(RedisTemplate.java:380) ~[app:3.5.1]
async-worker-2-1  | 	at org.springframework.data.redis.core.AbstractOperations.execute(AbstractOperations.java:117) ~[app:3.5.1]
async-worker-2-1  | 	at org.springframework.data.redis.core.DefaultListOperations.leftPush(DefaultListOperations.java:111) ~[app:3.5.1]
async-worker-2-1  | 	at com.maal.asyncpaymentprocessor.application.service.PaymentHistoryService.recordPayment(PaymentHistoryService.java:48) ~[app:na]
async-worker-2-1  | 	at com.maal.asyncpaymentprocessor.application.usecase.ProcessPaymentUseCaseImpl.processPaymentAsync(ProcessPaymentUseCaseImpl.java:61) ~[app:na]
async-worker-2-1  | 	at com.maal.asyncpaymentprocessor.application.worker.PaymentProcessorWorkerImpl.processPaymentMessage(PaymentProcessorWorkerImpl.java:150) ~[app:na]
async-worker-2-1  | 	at com.maal.asyncpaymentprocessor.application.worker.PaymentProcessorWorkerImpl.lambda$submitPaymentForProcessing$0(PaymentProcessorWorkerImpl.java:136) ~[app:na]
async-worker-2-1  | 	at java.base@24.0.2/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:545) ~[na:na]
async-worker-2-1  | 	at java.base@24.0.2/java.util.concurrent.FutureTask.run(FutureTask.java:328) ~[app:na]
async-worker-2-1  | 	at java.base@24.0.2/java.lang.Thread.runWith(Thread.java:1460) ~[app:na]
async-worker-2-1  | 	at java.base@24.0.2/java.lang.VirtualThread.run(VirtualThread.java:466) ~[app:na]
async-worker-2-1  | 	at java.base@24.0.2/java.lang.VirtualThread$VThreadContinuation$1.run(VirtualThread.java:258) ~[na:na]
async-worker-2-1  | 
async-worker-2-1  | 2025-07-26T21:14:24.619Z ERROR 1 --- [AsyncPaymentProcessor] [   virtual-7856] c.m.a.a.service.PaymentHistoryService    : Falha ao gravar pagamento no Redis. CorrelationId: 58db7a2b-47b3-49cc-b913-ba1965ce19ed, Error: LettuceConnectionFactory has been STOPPED. Use start() to initialize it
async-worker-2-1  | 
async-worker-2-1  | java.lang.IllegalStateException: LettuceConnectionFactory has been STOPPED. Use start() to initialize it
async-worker-2-1  | 	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory.assertStarted(LettuceConnectionFactory.java:1449) ~[app:3.5.1]
async-worker-2-1  | 	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory.getConnection(LettuceConnectionFactory.java:1049) ~[app:3.5.1]
async-worker-2-1  | 	at org.springframework.data.redis.core.RedisConnectionUtils.fetchConnection(RedisConnectionUtils.java:195) ~[na:na]
async-worker-2-1  | 	at org.springframework.data.redis.core.RedisConnectionUtils.doGetConnection(RedisConnectionUtils.java:144) ~[na:na]
async-worker-2-1  | 	at org.springframework.data.redis.core.RedisConnectionUtils.getConnection(RedisConnectionUtils.java:105) ~[na:na]
async-worker-2-1  | 	at org.springframework.data.redis.core.RedisTemplate.execute(RedisTemplate.java:400) ~[app:3.5.1]
async-worker-2-1  | 	at org.springframework.data.redis.core.RedisTemplate.execute(RedisTemplate.java:380) ~[app:3.5.1]
async-worker-2-1  | 	at org.springframework.data.redis.core.AbstractOperations.execute(AbstractOperations.java:117) ~[app:3.5.1]
async-worker-2-1  | 	at org.springframework.data.redis.core.DefaultListOperations.leftPush(DefaultListOperations.java:111) ~[app:3.5.1]
async-worker-2-1  | 	at com.maal.asyncpaymentprocessor.application.service.PaymentHistoryService.recordPayment(PaymentHistoryService.java:48) ~[app:na]
async-worker-2-1  | 	at com.maal.asyncpaymentprocessor.application.usecase.ProcessPaymentUseCaseImpl.processPaymentAsync(ProcessPaymentUseCaseImpl.java:61) ~[app:na]
async-worker-2-1  | 	at com.maal.asyncpaymentprocessor.application.worker.PaymentProcessorWorkerImpl.processPaymentMessage(PaymentProcessorWorkerImpl.java:150) ~[app:na]
async-worker-2-1  | 	at com.maal.asyncpaymentprocessor.application.worker.PaymentProcessorWorkerImpl.lambda$submitPaymentForProcessing$0(PaymentProcessorWorkerImpl.java:136) ~[app:na]
async-worker-2-1  | 	at java.base@24.0.2/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:545) ~[na:na]
async-worker-2-1  | 	at java.base@24.0.2/java.util.concurrent.FutureTask.run(FutureTask.java:328) ~[app:na]
async-worker-2-1  | 	at java.base@24.0.2/java.lang.Thread.runWith(Thread.java:1460) ~[app:na]
async-worker-2-1  | 	at java.base@24.0.2/java.lang.VirtualThread.run(VirtualThread.java:466) ~[app:na]
async-worker-2-1  | 	at java.base@24.0.2/java.lang.VirtualThread$VThreadContinuation$1.run(VirtualThread.java:258) ~[na:na]
async-worker-2-1  | 
async-worker-2-1  | 2025-07-26T21:14:24.619Z ERROR 1 --- [AsyncPaymentProcessor] [   virtual-7862] c.m.a.a.service.PaymentHistoryService    : Falha ao gravar pagamento no Redis. CorrelationId: c5678e31-a1a8-448c-b653-deab6b91e7e6, Error: LettuceConnectionFactory has been STOPPED. Use start() to initialize it
async-worker-2-1  | 
async-worker-2-1  | java.lang.IllegalStateException: LettuceConnectionFactory has been STOPPED. Use start() to initialize it
async-worker-2-1  | 	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory.assertStarted(LettuceConnectionFactory.java:1449) ~[app:3.5.1]
async-worker-2-1  | 	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory.getConnection(LettuceConnectionFactory.java:1049) ~[app:3.5.1]
async-worker-2-1  | 	at org.springframework.data.redis.core.RedisConnectionUtils.fetchConnection(RedisConnectionUtils.java:195) ~[na:na]
async-worker-2-1  | 	at org.springframework.data.redis.core.RedisConnectionUtils.doGetConnection(RedisConnectionUtils.java:144) ~[na:na]
async-worker-2-1  | 	at org.springframework.data.redis.core.RedisConnectionUtils.getConnection(RedisConnectionUtils.java:105) ~[na:na]
async-worker-2-1  | 	at org.springframework.data.redis.core.RedisTemplate.execute(RedisTemplate.java:400) ~[app:3.5.1]
async-worker-2-1  | 	at org.springframework.data.redis.core.RedisTemplate.execute(RedisTemplate.java:380) ~[app:3.5.1]
async-worker-2-1  | 	at org.springframework.data.redis.core.AbstractOperations.execute(AbstractOperations.java:117) ~[app:3.5.1]
async-worker-2-1  | 	at org.springframework.data.redis.core.DefaultListOperations.leftPush(DefaultListOperations.java:111) ~[app:3.5.1]
async-worker-2-1  | 	at com.maal.asyncpaymentprocessor.application.service.PaymentHistoryService.recordPayment(PaymentHistoryService.java:48) ~[app:na]
async-worker-2-1  | 	at com.maal.asyncpaymentprocessor.application.usecase.ProcessPaymentUseCaseImpl.processPaymentAsync(ProcessPaymentUseCaseImpl.java:61) ~[app:na]
async-worker-2-1  | 	at com.maal.asyncpaymentprocessor.application.worker.PaymentProcessorWorkerImpl.processPaymentMessage(PaymentProcessorWorkerImpl.java:150) ~[app:na]
async-worker-2-1  | 	at com.maal.asyncpaymentprocessor.application.worker.PaymentProcessorWorkerImpl.lambda$submitPaymentForProcessing$0(PaymentProcessorWorkerImpl.java:136) ~[app:na]
async-worker-2-1  | 	at java.base@24.0.2/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:545) ~[na:na]
async-worker-2-1  | 	at java.base@24.0.2/java.util.concurrent.FutureTask.run(FutureTask.java:328) ~[app:na]
async-worker-2-1  | 	at java.base@24.0.2/java.lang.Thread.runWith(Thread.java:1460) ~[app:na]
async-worker-2-1  | 	at java.base@24.0.2/java.lang.VirtualThread.run(VirtualThread.java:466) ~[app:na]
async-worker-2-1  | 	at java.base@24.0.2/java.lang.VirtualThread$VThreadContinuation$1.run(VirtualThread.java:258) ~[na:na]
async-worker-2-1  | 
async-worker-2-1  | 2025-07-26T21:14:24.620Z ERROR 1 --- [AsyncPaymentProcessor] [   virtual-7858] c.m.a.a.service.PaymentHistoryService    : Falha ao gravar pagamento no Redis. CorrelationId: 0137fde6-2aaf-49c2-a2d2-98bfaed24c5e, Error: LettuceConnectionFactory has been STOPPED. Use start() to initialize it
async-worker-2-1  | 
async-worker-2-1  | java.lang.IllegalStateException: LettuceConnectionFactory has been STOPPED. Use start() to initialize it
async-worker-2-1  | 	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory.assertStarted(LettuceConnectionFactory.java:1449) ~[app:3.5.1]
async-worker-2-1  | 	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory.getConnection(LettuceConnectionFactory.java:1049) ~[app:3.5.1]
async-worker-2-1  | 	at org.springframework.data.redis.core.RedisConnectionUtils.fetchConnection(RedisConnectionUtils.java:195) ~[na:na]
async-worker-2-1  | 	at org.springframework.data.redis.core.RedisConnectionUtils.doGetConnection(RedisConnectionUtils.java:144) ~[na:na]
async-worker-2-1  | 	at org.springframework.data.redis.core.RedisConnectionUtils.getConnection(RedisConnectionUtils.java:105) ~[na:na]
async-worker-2-1  | 	at org.springframework.data.redis.core.RedisTemplate.execute(RedisTemplate.java:400) ~[app:3.5.1]
async-worker-2-1  | 	at org.springframework.data.redis.core.RedisTemplate.execute(RedisTemplate.java:380) ~[app:3.5.1]
async-worker-2-1  | 	at org.springframework.data.redis.core.AbstractOperations.execute(AbstractOperations.java:117) ~[app:3.5.1]
async-worker-2-1  | 	at org.springframework.data.redis.core.DefaultListOperations.leftPush(DefaultListOperations.java:111) ~[app:3.5.1]
async-worker-2-1  | 	at com.maal.asyncpaymentprocessor.application.service.PaymentHistoryService.recordPayment(PaymentHistoryService.java:48) ~[app:na]
async-worker-2-1  | 	at com.maal.asyncpaymentprocessor.application.usecase.ProcessPaymentUseCaseImpl.processPaymentAsync(ProcessPaymentUseCaseImpl.java:61) ~[app:na]
async-worker-2-1  | 	at com.maal.asyncpaymentprocessor.application.worker.PaymentProcessorWorkerImpl.processPaymentMessage(PaymentProcessorWorkerImpl.java:150) ~[app:na]
async-worker-2-1  | 	at com.maal.asyncpaymentprocessor.application.worker.PaymentProcessorWorkerImpl.lambda$submitPaymentForProcessing$0(PaymentProcessorWorkerImpl.java:136) ~[app:na]
async-worker-2-1  | 	at java.base@24.0.2/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:545) ~[na:na]
async-worker-2-1  | 	at java.base@24.0.2/java.util.concurrent.FutureTask.run(FutureTask.java:328) ~[app:na]
async-worker-2-1  | 	at java.base@24.0.2/java.lang.Thread.runWith(Thread.java:1460) ~[app:na]
async-worker-2-1  | 	at java.base@24.0.2/java.lang.VirtualThread.run(VirtualThread.java:466) ~[app:na]
async-worker-2-1  | 	at java.base@24.0.2/java.lang.VirtualThread$VThreadContinuation$1.run(VirtualThread.java:258) ~[na:na]
async-worker-2-1  | 
async-worker-2-1  | 2025-07-26T21:14:24.620Z ERROR 1 --- [AsyncPaymentProcessor] [   virtual-7873] c.m.a.a.service.PaymentHistoryService    : Falha ao gravar pagamento no Redis. CorrelationId: f1cb3c4a-0c63-43b3-9ecf-0c6d76936fa5, Error: LettuceConnectionFactory has been STOPPED. Use start() to initialize it
async-worker-2-1  | 
async-worker-2-1  | java.lang.IllegalStateException: LettuceConnectionFactory has been STOPPED. Use start() to initialize it
async-worker-2-1  | 	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory.assertStarted(LettuceConnectionFactory.java:1449) ~[app:3.5.1]
async-worker-2-1  | 	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory.getConnection(LettuceConnectionFactory.java:1049) ~[app:3.5.1]
async-worker-2-1  | 	at org.springframework.data.redis.core.RedisConnectionUtils.fetchConnection(RedisConnectionUtils.java:195) ~[na:na]
async-worker-2-1  | 	at org.springframework.data.redis.core.RedisConnectionUtils.doGetConnection(RedisConnectionUtils.java:144) ~[na:na]
async-worker-2-1  | 	at org.springframework.data.redis.core.RedisConnectionUtils.getConnection(RedisConnectionUtils.java:105) ~[na:na]
async-worker-2-1  | 	at org.springframework.data.redis.core.RedisTemplate.execute(RedisTemplate.java:400) ~[app:3.5.1]
async-worker-2-1  | 	at org.springframework.data.redis.core.RedisTemplate.execute(RedisTemplate.java:380) ~[app:3.5.1]
async-worker-2-1  | 	at org.springframework.data.redis.core.AbstractOperations.execute(AbstractOperations.java:117) ~[app:3.5.1]
async-worker-2-1  | 	at org.springframework.data.redis.core.DefaultListOperations.leftPush(DefaultListOperations.java:111) ~[app:3.5.1]
async-worker-2-1  | 	at com.maal.asyncpaymentprocessor.application.service.PaymentHistoryService.recordPayment(PaymentHistoryService.java:48) ~[app:na]
async-worker-2-1  | 	at com.maal.asyncpaymentprocessor.application.usecase.ProcessPaymentUseCaseImpl.processPaymentAsync(ProcessPaymentUseCaseImpl.java:61) ~[app:na]
async-worker-2-1  | 	at com.maal.asyncpaymentprocessor.application.worker.PaymentProcessorWorkerImpl.processPaymentMessage(PaymentProcessorWorkerImpl.java:150) ~[app:na]
async-worker-2-1  | 	at com.maal.asyncpaymentprocessor.application.worker.PaymentProcessorWorkerImpl.lambda$submitPaymentForProcessing$0(PaymentProcessorWorkerImpl.java:136) ~[app:na]
async-worker-2-1  | 	at java.base@24.0.2/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:545) ~[na:na]
async-worker-2-1  | 	at java.base@24.0.2/java.util.concurrent.FutureTask.run(FutureTask.java:328) ~[app:na]
async-worker-2-1  | 	at java.base@24.0.2/java.lang.Thread.runWith(Thread.java:1460) ~[app:na]
async-worker-2-1  | 	at java.base@24.0.2/java.lang.VirtualThread.run(VirtualThread.java:466) ~[app:na]
async-worker-2-1  | 	at java.base@24.0.2/java.lang.VirtualThread$VThreadContinuation$1.run(VirtualThread.java:258) ~[na:na]
async-worker-2-1  | 
async-worker-2-1  | 2025-07-26T21:14:24.620Z ERROR 1 --- [AsyncPaymentProcessor] [   virtual-7859] c.m.a.a.service.PaymentHistoryService    : Falha ao gravar pagamento no Redis. CorrelationId: b9623a26-b9d8-4aa6-b246-1cf0b81f3270, Error: LettuceConnectionFactory has been STOPPED. Use start() to initialize it
async-worker-2-1  | 
async-worker-2-1  | java.lang.IllegalStateException: LettuceConnectionFactory has been STOPPED. Use start() to initialize it
async-worker-2-1  | 	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory.assertStarted(LettuceConnectionFactory.java:1449) ~[app:3.5.1]
async-worker-2-1  | 	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory.getConnection(LettuceConnectionFactory.java:1049) ~[app:3.5.1]
async-worker-2-1  | 	at org.springframework.data.redis.core.RedisConnectionUtils.fetchConnection(RedisConnectionUtils.java:195) ~[na:na]
async-worker-2-1  | 	at org.springframework.data.redis.core.RedisConnectionUtils.doGetConnection(RedisConnectionUtils.java:144) ~[na:na]
async-worker-2-1  | 	at org.springframework.data.redis.core.RedisConnectionUtils.getConnection(RedisConnectionUtils.java:105) ~[na:na]
async-worker-2-1  | 	at org.springframework.data.redis.core.RedisTemplate.execute(RedisTemplate.java:400) ~[app:3.5.1]
async-worker-2-1  | 	at org.springframework.data.redis.core.RedisTemplate.execute(RedisTemplate.java:380) ~[app:3.5.1]
async-worker-2-1  | 	at org.springframework.data.redis.core.AbstractOperations.execute(AbstractOperations.java:117) ~[app:3.5.1]
async-worker-2-1  | 	at org.springframework.data.redis.core.DefaultListOperations.leftPush(DefaultListOperations.java:111) ~[app:3.5.1]
async-worker-2-1  | 	at com.maal.asyncpaymentprocessor.application.service.PaymentHistoryService.recordPayment(PaymentHistoryService.java:48) ~[app:na]
async-worker-2-1  | 	at com.maal.asyncpaymentprocessor.application.usecase.ProcessPaymentUseCaseImpl.processPaymentAsync(ProcessPaymentUseCaseImpl.java:61) ~[app:na]
async-worker-2-1  | 	at com.maal.asyncpaymentprocessor.application.worker.PaymentProcessorWorkerImpl.processPaymentMessage(PaymentProcessorWorkerImpl.java:150) ~[app:na]
async-worker-2-1  | 	at com.maal.asyncpaymentprocessor.application.worker.PaymentProcessorWorkerImpl.lambda$submitPaymentForProcessing$0(PaymentProcessorWorkerImpl.java:136) ~[app:na]
async-worker-2-1  | 	at java.base@24.0.2/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:545) ~[na:na]
async-worker-2-1  | 	at java.base@24.0.2/java.util.concurrent.FutureTask.run(FutureTask.java:328) ~[app:na]
async-worker-2-1  | 	at java.base@24.0.2/java.lang.Thread.runWith(Thread.java:1460) ~[app:na]
async-worker-2-1  | 	at java.base@24.0.2/java.lang.VirtualThread.run(VirtualThread.java:466) ~[app:na]
async-worker-2-1  | 	at java.base@24.0.2/java.lang.VirtualThread$VThreadContinuation$1.run(VirtualThread.java:258) ~[na:na]
async-worker-2-1  | 
async-worker-2-1  | 2025-07-26T21:14:24.620Z ERROR 1 --- [AsyncPaymentProcessor] [   virtual-7882] c.m.a.a.service.PaymentHistoryService    : Falha ao gravar pagamento no Redis. CorrelationId: 9b418ee2-dcd3-4c7e-be02-f180601d7740, Error: LettuceConnectionFactory has been STOPPED. Use start() to initialize it
async-worker-2-1  | 
async-worker-2-1  | java.lang.IllegalStateException: LettuceConnectionFactory has been STOPPED. Use start() to initialize it
async-worker-2-1  | 	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory.assertStarted(LettuceConnectionFactory.java:1449) ~[app:3.5.1]
async-worker-2-1  | 	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory.getConnection(LettuceConnectionFactory.java:1049) ~[app:3.5.1]
async-worker-2-1  | 	at org.springframework.data.redis.core.RedisConnectionUtils.fetchConnection(RedisConnectionUtils.java:195) ~[na:na]
async-worker-2-1  | 	at org.springframework.data.redis.core.RedisConnectionUtils.doGetConnection(RedisConnectionUtils.java:144) ~[na:na]
async-worker-2-1  | 	at org.springframework.data.redis.core.RedisConnectionUtils.getConnection(RedisConnectionUtils.java:105) ~[na:na]
async-worker-2-1  | 	at org.springframework.data.redis.core.RedisTemplate.execute(RedisTemplate.java:400) ~[app:3.5.1]
async-worker-2-1  | 	at org.springframework.data.redis.core.RedisTemplate.execute(RedisTemplate.java:380) ~[app:3.5.1]
async-worker-2-1  | 	at org.springframework.data.redis.core.AbstractOperations.execute(AbstractOperations.java:117) ~[app:3.5.1]
async-worker-2-1  | 	at org.springframework.data.redis.core.DefaultListOperations.leftPush(DefaultListOperations.java:111) ~[app:3.5.1]
async-worker-2-1  | 	at com.maal.asyncpaymentprocessor.application.service.PaymentHistoryService.recordPayment(PaymentHistoryService.java:48) ~[app:na]
async-worker-2-1  | 	at com.maal.asyncpaymentprocessor.application.usecase.ProcessPaymentUseCaseImpl.processPaymentAsync(ProcessPaymentUseCaseImpl.java:61) ~[app:na]
async-worker-2-1  | 	at com.maal.asyncpaymentprocessor.application.worker.PaymentProcessorWorkerImpl.processPaymentMessage(PaymentProcessorWorkerImpl.java:150) ~[app:na]
async-worker-2-1  | 	at com.maal.asyncpaymentprocessor.application.worker.PaymentProcessorWorkerImpl.lambda$submitPaymentForProcessing$0(PaymentProcessorWorkerImpl.java:136) ~[app:na]
async-worker-2-1  | 	at java.base@24.0.2/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:545) ~[na:na]
async-worker-2-1  | 	at java.base@24.0.2/java.util.concurrent.FutureTask.run(FutureTask.java:328) ~[app:na]
async-worker-2-1  | 	at java.base@24.0.2/java.lang.Thread.runWith(Thread.java:1460) ~[app:na]
async-worker-2-1  | 	at java.base@24.0.2/java.lang.VirtualThread.run(VirtualThread.java:466) ~[app:na]
async-worker-2-1  | 	at java.base@24.0.2/java.lang.VirtualThread$VThreadContinuation$1.run(VirtualThread.java:258) ~[na:na]
async-worker-2-1  | 
async-worker-2-1  | 2025-07-26T21:14:24.620Z ERROR 1 --- [AsyncPaymentProcessor] [   virtual-7877] c.m.a.a.service.PaymentHistoryService    : Falha ao gravar pagamento no Redis. CorrelationId: a9a3d4a5-7ca3-4843-bea9-4350e96b9ce5, Error: LettuceConnectionFactory has been STOPPED. Use start() to initialize it
async-worker-2-1  | 
async-worker-2-1  | java.lang.IllegalStateException: LettuceConnectionFactory has been STOPPED. Use start() to initialize it
async-worker-2-1  | 	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory.assertStarted(LettuceConnectionFactory.java:1449) ~[app:3.5.1]
async-worker-2-1  | 	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory.getConnection(LettuceConnectionFactory.java:1049) ~[app:3.5.1]
async-worker-2-1  | 	at org.springframework.data.redis.core.RedisConnectionUtils.fetchConnection(RedisConnectionUtils.java:195) ~[na:na]
async-worker-2-1  | 	at org.springframework.data.redis.core.RedisConnectionUtils.doGetConnection(RedisConnectionUtils.java:144) ~[na:na]
async-worker-2-1  | 	at org.springframework.data.redis.core.RedisConnectionUtils.getConnection(RedisConnectionUtils.java:105) ~[na:na]
async-worker-2-1  | 	at org.springframework.data.redis.core.RedisTemplate.execute(RedisTemplate.java:400) ~[app:3.5.1]
async-worker-2-1  | 	at org.springframework.data.redis.core.RedisTemplate.execute(RedisTemplate.java:380) ~[app:3.5.1]
async-worker-2-1  | 	at org.springframework.data.redis.core.AbstractOperations.execute(AbstractOperations.java:117) ~[app:3.5.1]
async-worker-2-1  | 	at org.springframework.data.redis.core.DefaultListOperations.leftPush(DefaultListOperations.java:111) ~[app:3.5.1]
async-worker-2-1  | 	at com.maal.asyncpaymentprocessor.application.service.PaymentHistoryService.recordPayment(PaymentHistoryService.java:48) ~[app:na]
async-worker-2-1  | 	at com.maal.asyncpaymentprocessor.application.usecase.ProcessPaymentUseCaseImpl.processPaymentAsync(ProcessPaymentUseCaseImpl.java:61) ~[app:na]
async-worker-2-1  | 	at com.maal.asyncpaymentprocessor.application.worker.PaymentProcessorWorkerImpl.processPaymentMessage(PaymentProcessorWorkerImpl.java:150) ~[app:na]
async-worker-2-1  | 	at com.maal.asyncpaymentprocessor.application.worker.PaymentProcessorWorkerImpl.lambda$submitPaymentForProcessing$0(PaymentProcessorWorkerImpl.java:136) ~[app:na]
async-worker-2-1  | 	at java.base@24.0.2/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:545) ~[na:na]
async-worker-2-1  | 	at java.base@24.0.2/java.util.concurrent.FutureTask.run(FutureTask.java:328) ~[app:na]
async-worker-2-1  | 	at java.base@24.0.2/java.lang.Thread.runWith(Thread.java:1460) ~[app:na]
async-worker-2-1  | 	at java.base@24.0.2/java.lang.VirtualThread.run(VirtualThread.java:466) ~[app:na]
async-worker-2-1  | 	at java.base@24.0.2/java.lang.VirtualThread$VThreadContinuation$1.run(VirtualThread.java:258) ~[na:na]
async-worker-2-1  | 
async-worker-2-1  | 2025-07-26T21:14:24.620Z ERROR 1 --- [AsyncPaymentProcessor] [   virtual-7874] c.m.a.a.service.PaymentHistoryService    : Falha ao gravar pagamento no Redis. CorrelationId: ba358112-f7e2-4956-a5db-bd691a5b62fc, Error: LettuceConnectionFactory has been STOPPED. Use start() to initialize it
async-worker-2-1  | 
async-worker-2-1  | java.lang.IllegalStateException: LettuceConnectionFactory has been STOPPED. Use start() to initialize it
async-worker-2-1  | 	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory.assertStarted(LettuceConnectionFactory.java:1449) ~[app:3.5.1]
async-worker-2-1  | 	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory.getConnection(LettuceConnectionFactory.java:1049) ~[app:3.5.1]
async-worker-2-1  | 	at org.springframework.data.redis.core.RedisConnectionUtils.fetchConnection(RedisConnectionUtils.java:195) ~[na:na]
async-worker-2-1  | 	at org.springframework.data.redis.core.RedisConnectionUtils.doGetConnection(RedisConnectionUtils.java:144) ~[na:na]
async-worker-2-1  | 	at org.springframework.data.redis.core.RedisConnectionUtils.getConnection(RedisConnectionUtils.java:105) ~[na:na]
async-worker-2-1  | 	at org.springframework.data.redis.core.RedisTemplate.execute(RedisTemplate.java:400) ~[app:3.5.1]
async-worker-2-1  | 	at org.springframework.data.redis.core.RedisTemplate.execute(RedisTemplate.java:380) ~[app:3.5.1]
async-worker-2-1  | 	at org.springframework.data.redis.core.AbstractOperations.execute(AbstractOperations.java:117) ~[app:3.5.1]
async-worker-2-1  | 	at org.springframework.data.redis.core.DefaultListOperations.leftPush(DefaultListOperations.java:111) ~[app:3.5.1]
async-worker-2-1  | 	at com.maal.asyncpaymentprocessor.application.service.PaymentHistoryService.recordPayment(PaymentHistoryService.java:48) ~[app:na]
async-worker-2-1  | 	at com.maal.asyncpaymentprocessor.application.usecase.ProcessPaymentUseCaseImpl.processPaymentAsync(ProcessPaymentUseCaseImpl.java:61) ~[app:na]
async-worker-2-1  | 	at com.maal.asyncpaymentprocessor.application.worker.PaymentProcessorWorkerImpl.processPaymentMessage(PaymentProcessorWorkerImpl.java:150) ~[app:na]
async-worker-2-1  | 	at com.maal.asyncpaymentprocessor.application.worker.PaymentProcessorWorkerImpl.lambda$submitPaymentForProcessing$0(PaymentProcessorWorkerImpl.java:136) ~[app:na]
async-worker-2-1  | 	at java.base@24.0.2/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:545) ~[na:na]
async-worker-2-1  | 	at java.base@24.0.2/java.util.concurrent.FutureTask.run(FutureTask.java:328) ~[app:na]
async-worker-2-1  | 	at java.base@24.0.2/java.lang.Thread.runWith(Thread.java:1460) ~[app:na]
async-worker-2-1  | 	at java.base@24.0.2/java.lang.VirtualThread.run(VirtualThread.java:466) ~[app:na]
async-worker-2-1  | 	at java.base@24.0.2/java.lang.VirtualThread$VThreadContinuation$1.run(VirtualThread.java:258) ~[na:na]
async-worker-2-1  | 
async-worker-2-1  | 2025-07-26T21:14:24.620Z ERROR 1 --- [AsyncPaymentProcessor] [   virtual-7885] c.m.a.a.service.PaymentHistoryService    : Falha ao gravar pagamento no Redis. CorrelationId: 6794445a-8db4-4ebe-a237-f692627bd240, Error: LettuceConnectionFactory has been STOPPED. Use start() to initialize it
async-worker-2-1  | 
async-worker-2-1  | java.lang.IllegalStateException: LettuceConnectionFactory has been STOPPED. Use start() to initialize it
async-worker-2-1  | 	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory.assertStarted(LettuceConnectionFactory.java:1449) ~[app:3.5.1]
async-worker-2-1  | 	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory.getConnection(LettuceConnectionFactory.java:1049) ~[app:3.5.1]
async-worker-2-1  | 	at org.springframework.data.redis.core.RedisConnectionUtils.fetchConnection(RedisConnectionUtils.java:195) ~[na:na]
async-worker-2-1  | 	at org.springframework.data.redis.core.RedisConnectionUtils.doGetConnection(RedisConnectionUtils.java:144) ~[na:na]
async-worker-2-1  | 	at org.springframework.data.redis.core.RedisConnectionUtils.getConnection(RedisConnectionUtils.java:105) ~[na:na]
async-worker-2-1  | 	at org.springframework.data.redis.core.RedisTemplate.execute(RedisTemplate.java:400) ~[app:3.5.1]
async-worker-2-1  | 	at org.springframework.data.redis.core.RedisTemplate.execute(RedisTemplate.java:380) ~[app:3.5.1]
async-worker-2-1  | 	at org.springframework.data.redis.core.AbstractOperations.execute(AbstractOperations.java:117) ~[app:3.5.1]
async-worker-2-1  | 	at org.springframework.data.redis.core.DefaultListOperations.leftPush(DefaultListOperations.java:111) ~[app:3.5.1]
async-worker-2-1  | 	at com.maal.asyncpaymentprocessor.application.service.PaymentHistoryService.recordPayment(PaymentHistoryService.java:48) ~[app:na]
async-worker-2-1  | 	at com.maal.asyncpaymentprocessor.application.usecase.ProcessPaymentUseCaseImpl.processPaymentAsync(ProcessPaymentUseCaseImpl.java:61) ~[app:na]
async-worker-2-1  | 	at com.maal.asyncpaymentprocessor.application.worker.PaymentProcessorWorkerImpl.processPaymentMessage(PaymentProcessorWorkerImpl.java:150) ~[app:na]
async-worker-2-1  | 	at com.maal.asyncpaymentprocessor.application.worker.PaymentProcessorWorkerImpl.lambda$submitPaymentForProcessing$0(PaymentProcessorWorkerImpl.java:136) ~[app:na]
async-worker-2-1  | 	at java.base@24.0.2/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:545) ~[na:na]
async-worker-2-1  | 	at java.base@24.0.2/java.util.concurrent.FutureTask.run(FutureTask.java:328) ~[app:na]
async-worker-2-1  | 	at java.base@24.0.2/java.lang.Thread.runWith(Thread.java:1460) ~[app:na]
async-worker-2-1  | 	at java.base@24.0.2/java.lang.VirtualThread.run(VirtualThread.java:466) ~[app:na]
async-worker-2-1  | 	at java.base@24.0.2/java.lang.VirtualThread$VThreadContinuation$1.run(VirtualThread.java:258) ~[na:na]
async-worker-2-1  | 
async-worker-2-1  | 2025-07-26T21:14:24.620Z ERROR 1 --- [AsyncPaymentProcessor] [   virtual-7865] c.m.a.a.service.PaymentHistoryService    : Falha ao gravar pagamento no Redis. CorrelationId: c4b23860-1453-4e46-a81f-64a2095f534f, Error: LettuceConnectionFactory has been STOPPED. Use start() to initialize it
async-worker-2-1  | 
async-worker-2-1  | java.lang.IllegalStateException: LettuceConnectionFactory has been STOPPED. Use start() to initialize it
async-worker-2-1  | 	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory.assertStarted(LettuceConnectionFactory.java:1449) ~[app:3.5.1]
async-worker-2-1  | 	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory.getConnection(LettuceConnectionFactory.java:1049) ~[app:3.5.1]
async-worker-2-1  | 	at org.springframework.data.redis.core.RedisConnectionUtils.fetchConnection(RedisConnectionUtils.java:195) ~[na:na]
async-worker-2-1  | 	at org.springframework.data.redis.core.RedisConnectionUtils.doGetConnection(RedisConnectionUtils.java:144) ~[na:na]
async-worker-2-1  | 	at org.springframework.data.redis.core.RedisConnectionUtils.getConnection(RedisConnectionUtils.java:105) ~[na:na]
async-worker-2-1  | 	at org.springframework.data.redis.core.RedisTemplate.execute(RedisTemplate.java:400) ~[app:3.5.1]
async-worker-2-1  | 	at org.springframework.data.redis.core.RedisTemplate.execute(RedisTemplate.java:380) ~[app:3.5.1]
async-worker-2-1  | 	at org.springframework.data.redis.core.AbstractOperations.execute(AbstractOperations.java:117) ~[app:3.5.1]
async-worker-2-1  | 	at org.springframework.data.redis.core.DefaultListOperations.leftPush(DefaultListOperations.java:111) ~[app:3.5.1]
async-worker-2-1  | 	at com.maal.asyncpaymentprocessor.application.service.PaymentHistoryService.recordPayment(PaymentHistoryService.java:48) ~[app:na]
async-worker-2-1  | 	at com.maal.asyncpaymentprocessor.application.usecase.ProcessPaymentUseCaseImpl.processPaymentAsync(ProcessPaymentUseCaseImpl.java:61) ~[app:na]
async-worker-2-1  | 	at com.maal.asyncpaymentprocessor.application.worker.PaymentProcessorWorkerImpl.processPaymentMessage(PaymentProcessorWorkerImpl.java:150) ~[app:na]
async-worker-2-1  | 	at com.maal.asyncpaymentprocessor.application.worker.PaymentProcessorWorkerImpl.lambda$submitPaymentForProcessing$0(PaymentProcessorWorkerImpl.java:136) ~[app:na]
async-worker-2-1  | 	at java.base@24.0.2/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:545) ~[na:na]
async-worker-2-1  | 	at java.base@24.0.2/java.util.concurrent.FutureTask.run(FutureTask.java:328) ~[app:na]
log truncated at line 1000
