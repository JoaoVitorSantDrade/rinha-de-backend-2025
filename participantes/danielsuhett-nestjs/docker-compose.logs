
 Network danielsuhett-nestjs_backend  Creating
 Network danielsuhett-nestjs_backend  Created
 Container rinha-redis  Creating
 Container rinha-redis  Created
 Container danielsuhett-nestjs-api1-1  Creating
 Container danielsuhett-nestjs-api2-1  Creating
 Container danielsuhett-nestjs-api2-1  Created
 Container danielsuhett-nestjs-api1-1  Created
 Container rinha-nginx  Creating
 Container rinha-nginx  Created
Attaching to api1-1, api2-1, rinha-nginx, rinha-redis
rinha-redis  | 1:C 31 Jul 2025 01:30:45.282 # WARNING Memory overcommit must be enabled! Without it, a background save or replication may fail under low memory condition. Being disabled, it can also cause failures without low memory condition, see https://github.com/jemalloc/jemalloc/issues/1328. To fix this issue add 'vm.overcommit_memory = 1' to /etc/sysctl.conf and then reboot or run the command 'sysctl vm.overcommit_memory=1' for this to take effect.
rinha-redis  | 1:C 31 Jul 2025 01:30:45.282 * oO0OoO0OoO0Oo Redis is starting oO0OoO0OoO0Oo
rinha-redis  | 1:C 31 Jul 2025 01:30:45.282 * Redis version=7.2.10, bits=64, commit=00000000, modified=0, pid=1, just started
rinha-redis  | 1:C 31 Jul 2025 01:30:45.282 * Configuration loaded
rinha-redis  | 1:M 31 Jul 2025 01:30:45.283 * monotonic clock: POSIX clock_gettime
rinha-redis  | 1:M 31 Jul 2025 01:30:45.284 * Running mode=standalone, port=6379.
rinha-redis  | 1:M 31 Jul 2025 01:30:45.284 * Server initialized
rinha-redis  | 1:M 31 Jul 2025 01:30:45.286 * Ready to accept connections tcp
rinha-nginx  | /docker-entrypoint.sh: /docker-entrypoint.d/ is not empty, will attempt to perform configuration
rinha-nginx  | /docker-entrypoint.sh: Looking for shell scripts in /docker-entrypoint.d/
rinha-nginx  | /docker-entrypoint.sh: Launching /docker-entrypoint.d/10-listen-on-ipv6-by-default.sh
rinha-nginx  | 10-listen-on-ipv6-by-default.sh: info: Getting the checksum of /etc/nginx/conf.d/default.conf
rinha-nginx  | 10-listen-on-ipv6-by-default.sh: info: Enabled listen on IPv6 in /etc/nginx/conf.d/default.conf
rinha-nginx  | /docker-entrypoint.sh: Sourcing /docker-entrypoint.d/15-local-resolvers.envsh
rinha-nginx  | /docker-entrypoint.sh: Launching /docker-entrypoint.d/20-envsubst-on-templates.sh
rinha-nginx  | /docker-entrypoint.sh: Launching /docker-entrypoint.d/30-tune-worker-processes.sh
rinha-nginx  | /docker-entrypoint.sh: Configuration complete; ready for start up
api1-1       | [32m[Nest] 1  - [39m07/31/2025, 1:30:53 AM [32m    LOG[39m [38;5;3m[NestFactory] [39m[32mStarting Nest application...[39m
api1-1       | [32m[Nest] 1  - [39m07/31/2025, 1:30:53 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAppModule dependencies initialized[39m[38;5;3m +29ms[39m
api1-1       | [32m[Nest] 1  - [39m07/31/2025, 1:30:53 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigModule dependencies initialized[39m[38;5;3m +0ms[39m
api1-1       | [32m[Nest] 1  - [39m07/31/2025, 1:30:53 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mSharedModule dependencies initialized[39m[38;5;3m +1ms[39m
api1-1       | [32m[Nest] 1  - [39m07/31/2025, 1:30:53 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mHttpClientModule dependencies initialized[39m[38;5;3m +44ms[39m
api1-1       | [32m[Nest] 1  - [39m07/31/2025, 1:30:53 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mRedisModule dependencies initialized[39m[38;5;3m +0ms[39m
api1-1       | [32m[Nest] 1  - [39m07/31/2025, 1:30:53 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mRedisModule dependencies initialized[39m[38;5;3m +0ms[39m
api1-1       | [32m[Nest] 1  - [39m07/31/2025, 1:30:53 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mRedisModule dependencies initialized[39m[38;5;3m +0ms[39m
api1-1       | [32m[Nest] 1  - [39m07/31/2025, 1:30:53 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mRedisCoreModule dependencies initialized[39m[38;5;3m +5ms[39m
api1-1       | [32m[Nest] 1  - [39m07/31/2025, 1:30:53 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mRedisCoreModule dependencies initialized[39m[38;5;3m +1ms[39m
api1-1       | [32m[Nest] 1  - [39m07/31/2025, 1:30:53 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mRedisCoreModule dependencies initialized[39m[38;5;3m +0ms[39m
api1-1       | [32m[Nest] 1  - [39m07/31/2025, 1:30:53 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mInMemoryQueueModule dependencies initialized[39m[38;5;3m +1ms[39m
api1-1       | [32m[Nest] 1  - [39m07/31/2025, 1:30:53 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCircuitBreakerModule dependencies initialized[39m[38;5;3m +0ms[39m
api1-1       | [32m[Nest] 1  - [39m07/31/2025, 1:30:53 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPaymentModule dependencies initialized[39m[38;5;3m +0ms[39m
api1-1       | [32m[Nest] 1  - [39m07/31/2025, 1:30:53 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPoolingModule dependencies initialized[39m[38;5;3m +1ms[39m
api2-1       | [32m[Nest] 1  - [39m07/31/2025, 1:30:53 AM [32m    LOG[39m [38;5;3m[NestFactory] [39m[32mStarting Nest application...[39m
api2-1       | [32m[Nest] 1  - [39m07/31/2025, 1:30:53 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAppModule dependencies initialized[39m[38;5;3m +86ms[39m
api2-1       | [32m[Nest] 1  - [39m07/31/2025, 1:30:53 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigModule dependencies initialized[39m[38;5;3m +1ms[39m
api2-1       | [32m[Nest] 1  - [39m07/31/2025, 1:30:53 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mSharedModule dependencies initialized[39m[38;5;3m +0ms[39m
api2-1       | [32m[Nest] 1  - [39m07/31/2025, 1:30:53 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mHttpClientModule dependencies initialized[39m[38;5;3m +0ms[39m
api2-1       | [32m[Nest] 1  - [39m07/31/2025, 1:30:53 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mRedisModule dependencies initialized[39m[38;5;3m +0ms[39m
api2-1       | [32m[Nest] 1  - [39m07/31/2025, 1:30:53 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mRedisModule dependencies initialized[39m[38;5;3m +0ms[39m
api2-1       | [32m[Nest] 1  - [39m07/31/2025, 1:30:53 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mRedisModule dependencies initialized[39m[38;5;3m +0ms[39m
api2-1       | [32m[Nest] 1  - [39m07/31/2025, 1:30:53 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mRedisCoreModule dependencies initialized[39m[38;5;3m +5ms[39m
api2-1       | [32m[Nest] 1  - [39m07/31/2025, 1:30:53 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mRedisCoreModule dependencies initialized[39m[38;5;3m +0ms[39m
api2-1       | [32m[Nest] 1  - [39m07/31/2025, 1:30:53 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mRedisCoreModule dependencies initialized[39m[38;5;3m +0ms[39m
api2-1       | [32m[Nest] 1  - [39m07/31/2025, 1:30:53 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mInMemoryQueueModule dependencies initialized[39m[38;5;3m +1ms[39m
api2-1       | [32m[Nest] 1  - [39m07/31/2025, 1:30:53 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCircuitBreakerModule dependencies initialized[39m[38;5;3m +0ms[39m
api2-1       | [32m[Nest] 1  - [39m07/31/2025, 1:30:53 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPaymentModule dependencies initialized[39m[38;5;3m +1ms[39m
api2-1       | [32m[Nest] 1  - [39m07/31/2025, 1:30:53 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPoolingModule dependencies initialized[39m[38;5;3m +1ms[39m
rinha-nginx  | 2025/07/31 01:30:53 [error] 30#30: *1 connect() failed (111: Connection refused) while connecting to upstream, client: 172.20.0.1, server: , request: "GET /payments-summary HTTP/1.1", upstream: "http://172.20.0.4:8080/payments-summary", host: "localhost:9999"
rinha-nginx  | 2025/07/31 01:30:53 [error] 30#30: *1 connect() failed (111: Connection refused) while connecting to upstream, client: 172.20.0.1, server: , request: "GET /payments-summary HTTP/1.1", upstream: "http://172.20.0.3:8081/payments-summary", host: "localhost:9999"
api2-1       | [32m[Nest] 1  - [39m07/31/2025, 1:30:53 AM [32m    LOG[39m [38;5;3m[CircuitBreakerSyncService] [39m[32mSubscribed to circuit breaker color changes[39m
api2-1       | [32m[Nest] 1  - [39m07/31/2025, 1:30:53 AM [32m    LOG[39m [38;5;3m[NestApplication] [39m[32mNest application successfully started[39m[38;5;3m +2ms[39m
api2-1       | Server running on port 8081
api1-1       | [32m[Nest] 1  - [39m07/31/2025, 1:30:54 AM [32m    LOG[39m [38;5;3m[CircuitBreakerManager] [39m[32mCircuit breaker worker is ready[39m
api1-1       | [32m[Nest] 1  - [39m07/31/2025, 1:30:54 AM [32m    LOG[39m [38;5;3m[CircuitBreakerManager] [39m[32mCircuit breaker worker started successfully[39m
api1-1       | [32m[Nest] 1  - [39m07/31/2025, 1:30:54 AM [32m    LOG[39m [38;5;3m[NestApplication] [39m[32mNest application successfully started[39m[38;5;3m +4ms[39m
api1-1       | Server running on port 8080
[Krinha-nginx exited with code 0
[Kapi1-1 exited with code 137
[Kapi2-1 exited with code 137
rinha-redis  | 1:signal-handler (1753925537) Received SIGTERM scheduling shutdown...
rinha-redis  | 1:M 31 Jul 2025 01:32:17.071 * User requested shutdown...
rinha-redis  | 1:M 31 Jul 2025 01:32:17.071 # Redis is now ready to exit, bye bye...
[Krinha-redis exited with code 0
log truncated at line 1000
