
 api02 Pulling 
 worker01 Pulling 
 api01 Pulling 
 c19952135643 Pulling fs layer 
 159d19db919f Pulling fs layer 
 b9102aedc8d2 Pulling fs layer 
 395992a1c37a Pulling fs layer 
 a66ada507b72 Pulling fs layer 
 c5e91758c40d Pulling fs layer 
 103793e5b42c Pulling fs layer 
 ab1bb1bcc11c Pulling fs layer 
 c5e91758c40d Waiting 
 395992a1c37a Waiting 
 a66ada507b72 Waiting 
 ab1bb1bcc11c Waiting 
 103793e5b42c Waiting 
 c19952135643 Pulling fs layer 
 159d19db919f Pulling fs layer 
 b9102aedc8d2 Pulling fs layer 
 395992a1c37a Pulling fs layer 
 a66ada507b72 Pulling fs layer 
 c5e91758c40d Pulling fs layer 
 103793e5b42c Pulling fs layer 
 ab1bb1bcc11c Pulling fs layer 
 ab1bb1bcc11c Waiting 
 395992a1c37a Waiting 
 c5e91758c40d Waiting 
 a66ada507b72 Waiting 
 103793e5b42c Waiting 
 c19952135643 Pulling fs layer 
 159d19db919f Pulling fs layer 
 b9102aedc8d2 Pulling fs layer 
 395992a1c37a Pulling fs layer 
 a66ada507b72 Pulling fs layer 
 c5e91758c40d Pulling fs layer 
 103793e5b42c Pulling fs layer 
 ab1bb1bcc11c Pulling fs layer 
 ab1bb1bcc11c Waiting 
 395992a1c37a Waiting 
 a66ada507b72 Waiting 
 c5e91758c40d Waiting 
 103793e5b42c Waiting 
 159d19db919f Downloading [==================================================>]     293B/293B
 159d19db919f Verifying Checksum 
 159d19db919f Download complete 
 159d19db919f Verifying Checksum 
 159d19db919f Download complete 
 159d19db919f Verifying Checksum 
 159d19db919f Download complete 
 b9102aedc8d2 Downloading [>                                                  ]  395.7kB/39.49MB
 b9102aedc8d2 Downloading [>                                                  ]  395.7kB/39.49MB
 b9102aedc8d2 Downloading [>                                                  ]  395.7kB/39.49MB
 c19952135643 Downloading [>                                                  ]    491kB/48.49MB
 c19952135643 Downloading [>                                                  ]    491kB/48.49MB
 c19952135643 Downloading [>                                                  ]    491kB/48.49MB
 b9102aedc8d2 Downloading [===========>                                       ]  8.919MB/39.49MB
 b9102aedc8d2 Downloading [===========>                                       ]  8.919MB/39.49MB
 b9102aedc8d2 Downloading [===========>                                       ]  8.919MB/39.49MB
 c19952135643 Downloading [===>                                               ]  3.464MB/48.49MB
 c19952135643 Downloading [===>                                               ]  3.464MB/48.49MB
 c19952135643 Downloading [===>                                               ]  3.464MB/48.49MB
 b9102aedc8d2 Downloading [===================>                               ]  15.02MB/39.49MB
 b9102aedc8d2 Downloading [===================>                               ]  15.02MB/39.49MB
 b9102aedc8d2 Downloading [===================>                               ]  15.02MB/39.49MB
 c19952135643 Downloading [===========>                                       ]  10.84MB/48.49MB
 c19952135643 Downloading [===========>                                       ]  10.84MB/48.49MB
 c19952135643 Downloading [===========>                                       ]  10.84MB/48.49MB
 b9102aedc8d2 Downloading [===========================>                       ]  21.94MB/39.49MB
 b9102aedc8d2 Downloading [===========================>                       ]  21.94MB/39.49MB
 b9102aedc8d2 Downloading [===========================>                       ]  21.94MB/39.49MB
 c19952135643 Downloading [===============>                                   ]  15.28MB/48.49MB
 c19952135643 Downloading [===============>                                   ]  15.28MB/48.49MB
 c19952135643 Downloading [===============>                                   ]  15.28MB/48.49MB
 395992a1c37a Download complete 
 395992a1c37a Download complete 
 395992a1c37a Download complete 
 b9102aedc8d2 Downloading [====================================>              ]  28.86MB/39.49MB
 b9102aedc8d2 Downloading [====================================>              ]  28.86MB/39.49MB
 b9102aedc8d2 Downloading [====================================>              ]  28.86MB/39.49MB
 c19952135643 Downloading [====================>                              ]   20.2MB/48.49MB
 c19952135643 Downloading [====================>                              ]   20.2MB/48.49MB
 c19952135643 Downloading [====================>                              ]   20.2MB/48.49MB
 b9102aedc8d2 Downloading [===========================================>       ]  34.13MB/39.49MB
 b9102aedc8d2 Downloading [===========================================>       ]  34.13MB/39.49MB
 b9102aedc8d2 Downloading [===========================================>       ]  34.13MB/39.49MB
 c19952135643 Downloading [===========================>                       ]   26.6MB/48.49MB
 c19952135643 Downloading [===========================>                       ]   26.6MB/48.49MB
 c19952135643 Downloading [===========================>                       ]   26.6MB/48.49MB
 b9102aedc8d2 Verifying Checksum 
 b9102aedc8d2 Download complete 
 b9102aedc8d2 Download complete 
 b9102aedc8d2 Verifying Checksum 
 b9102aedc8d2 Download complete 
 c19952135643 Downloading [===================================>               ]  34.52MB/48.49MB
 c19952135643 Downloading [===================================>               ]  34.52MB/48.49MB
 c19952135643 Downloading [===================================>               ]  34.52MB/48.49MB
 c19952135643 Downloading [============================================>      ]  42.89MB/48.49MB
 c19952135643 Downloading [============================================>      ]  42.89MB/48.49MB
 c19952135643 Downloading [============================================>      ]  42.89MB/48.49MB
 a66ada507b72 Downloading [=============>                                     ]     933B/3.391kB
 a66ada507b72 Downloading [=============>                                     ]     933B/3.391kB
 a66ada507b72 Downloading [==================================================>]  3.391kB/3.391kB
 a66ada507b72 Downloading [==================================================>]  3.391kB/3.391kB
 a66ada507b72 Downloading [=============>                                     ]     933B/3.391kB
 a66ada507b72 Downloading [==================================================>]  3.391kB/3.391kB
 a66ada507b72 Verifying Checksum 
 a66ada507b72 Verifying Checksum 
 a66ada507b72 Download complete 
 a66ada507b72 Download complete 
 a66ada507b72 Verifying Checksum 
 a66ada507b72 Download complete 
 c19952135643 Verifying Checksum 
 c19952135643 Download complete 
 c19952135643 Verifying Checksum 
 c19952135643 Download complete 
 c19952135643 Download complete 
 c19952135643 Extracting [>                                                  ]  491.5kB/48.49MB
 c19952135643 Extracting [>                                                  ]  491.5kB/48.49MB
 c19952135643 Extracting [>                                                  ]  491.5kB/48.49MB
 c5e91758c40d Downloading [==================================================>]     138B/138B
 c5e91758c40d Verifying Checksum 
 c5e91758c40d Download complete 
 c5e91758c40d Downloading [==================================================>]     138B/138B
 c5e91758c40d Verifying Checksum 
 c5e91758c40d Download complete 
 c5e91758c40d Downloading [==================================================>]     138B/138B
 c5e91758c40d Verifying Checksum 
 c5e91758c40d Download complete 
 c19952135643 Extracting [======>                                            ]   6.39MB/48.49MB
 c19952135643 Extracting [======>                                            ]   6.39MB/48.49MB
 c19952135643 Extracting [======>                                            ]   6.39MB/48.49MB
 c19952135643 Extracting [==========>                                        ]   9.83MB/48.49MB
 c19952135643 Extracting [==========>                                        ]   9.83MB/48.49MB
 c19952135643 Extracting [==========>                                        ]   9.83MB/48.49MB
 103793e5b42c Download complete 
 103793e5b42c Download complete 
 103793e5b42c Download complete 
 c19952135643 Extracting [=============>                                     ]  12.78MB/48.49MB
 c19952135643 Extracting [=============>                                     ]  12.78MB/48.49MB
 c19952135643 Extracting [=============>                                     ]  12.78MB/48.49MB
 c19952135643 Extracting [====================>                              ]  19.66MB/48.49MB
 c19952135643 Extracting [====================>                              ]  19.66MB/48.49MB
 c19952135643 Extracting [====================>                              ]  19.66MB/48.49MB
 c19952135643 Extracting [========================>                          ]  24.08MB/48.49MB
 c19952135643 Extracting [========================>                          ]  24.08MB/48.49MB
 c19952135643 Extracting [========================>                          ]  24.08MB/48.49MB
 c19952135643 Extracting [============================>                      ]  28.02MB/48.49MB
 c19952135643 Extracting [============================>                      ]  28.02MB/48.49MB
 c19952135643 Extracting [============================>                      ]  28.02MB/48.49MB
 c19952135643 Extracting [=================================>                 ]  32.93MB/48.49MB
 c19952135643 Extracting [=================================>                 ]  32.93MB/48.49MB
 c19952135643 Extracting [=================================>                 ]  32.93MB/48.49MB
 c19952135643 Extracting [=====================================>             ]  36.37MB/48.49MB
 c19952135643 Extracting [=====================================>             ]  36.37MB/48.49MB
 c19952135643 Extracting [=====================================>             ]  36.37MB/48.49MB
 c19952135643 Extracting [=========================================>         ]  39.81MB/48.49MB
 c19952135643 Extracting [=========================================>         ]  39.81MB/48.49MB
 c19952135643 Extracting [=========================================>         ]  39.81MB/48.49MB
 c19952135643 Extracting [============================================>      ]  43.25MB/48.49MB
 c19952135643 Extracting [============================================>      ]  43.25MB/48.49MB
 c19952135643 Extracting [============================================>      ]  43.25MB/48.49MB
 c19952135643 Extracting [===============================================>   ]  45.71MB/48.49MB
 c19952135643 Extracting [===============================================>   ]  45.71MB/48.49MB
 c19952135643 Extracting [===============================================>   ]  45.71MB/48.49MB
 c19952135643 Extracting [================================================>  ]  47.19MB/48.49MB
 c19952135643 Extracting [================================================>  ]  47.19MB/48.49MB
 c19952135643 Extracting [================================================>  ]  47.19MB/48.49MB
 ab1bb1bcc11c Downloading [=>                                                 ]  1.369kB/43.73kB
 ab1bb1bcc11c Downloading [=>                                                 ]  1.369kB/43.73kB
 ab1bb1bcc11c Downloading [=>                                                 ]  1.369kB/43.73kB
 ab1bb1bcc11c Downloading [=====>                                             ]  4.681kB/43.73kB
 ab1bb1bcc11c Downloading [=====>                                             ]  4.681kB/43.73kB
 ab1bb1bcc11c Downloading [=====>                                             ]  4.681kB/43.73kB
 ab1bb1bcc11c Downloading [==================================================>]  43.73kB/43.73kB
 ab1bb1bcc11c Downloading [==================================================>]  43.73kB/43.73kB
 ab1bb1bcc11c Verifying Checksum 
 ab1bb1bcc11c Download complete 
 ab1bb1bcc11c Verifying Checksum 
 ab1bb1bcc11c Download complete 
 ab1bb1bcc11c Downloading [==================================================>]  43.73kB/43.73kB
 ab1bb1bcc11c Verifying Checksum 
 ab1bb1bcc11c Download complete 
 c19952135643 Extracting [=================================================> ]  47.68MB/48.49MB
 c19952135643 Extracting [=================================================> ]  47.68MB/48.49MB
 c19952135643 Extracting [=================================================> ]  47.68MB/48.49MB
 c19952135643 Extracting [==================================================>]  48.49MB/48.49MB
 c19952135643 Extracting [==================================================>]  48.49MB/48.49MB
 c19952135643 Extracting [==================================================>]  48.49MB/48.49MB
 c19952135643 Pull complete 
 c19952135643 Pull complete 
 c19952135643 Pull complete 
 159d19db919f Extracting [==================================================>]     293B/293B
 159d19db919f Extracting [==================================================>]     293B/293B
 159d19db919f Extracting [==================================================>]     293B/293B
 159d19db919f Extracting [==================================================>]     293B/293B
 159d19db919f Extracting [==================================================>]     293B/293B
 159d19db919f Extracting [==================================================>]     293B/293B
 159d19db919f Pull complete 
 159d19db919f Pull complete 
 159d19db919f Pull complete 
 b9102aedc8d2 Extracting [>                                                  ]    426kB/39.49MB
 b9102aedc8d2 Extracting [>                                                  ]    426kB/39.49MB
 b9102aedc8d2 Extracting [>                                                  ]    426kB/39.49MB
 b9102aedc8d2 Extracting [==========>                                        ]  8.094MB/39.49MB
 b9102aedc8d2 Extracting [==========>                                        ]  8.094MB/39.49MB
 b9102aedc8d2 Extracting [==========>                                        ]  8.094MB/39.49MB
 b9102aedc8d2 Extracting [=================>                                 ]  14.06MB/39.49MB
 b9102aedc8d2 Extracting [=================>                                 ]  14.06MB/39.49MB
 b9102aedc8d2 Extracting [=================>                                 ]  14.06MB/39.49MB
 b9102aedc8d2 Extracting [==========================>                        ]  20.87MB/39.49MB
 b9102aedc8d2 Extracting [==========================>                        ]  20.87MB/39.49MB
 b9102aedc8d2 Extracting [==========================>                        ]  20.87MB/39.49MB
 b9102aedc8d2 Extracting [===================================>               ]  27.69MB/39.49MB
 b9102aedc8d2 Extracting [===================================>               ]  27.69MB/39.49MB
 b9102aedc8d2 Extracting [===================================>               ]  27.69MB/39.49MB
 b9102aedc8d2 Extracting [============================================>      ]  34.93MB/39.49MB
 b9102aedc8d2 Extracting [============================================>      ]  34.93MB/39.49MB
 b9102aedc8d2 Extracting [============================================>      ]  34.93MB/39.49MB
 b9102aedc8d2 Extracting [==================================================>]  39.49MB/39.49MB
 b9102aedc8d2 Extracting [==================================================>]  39.49MB/39.49MB
 b9102aedc8d2 Extracting [==================================================>]  39.49MB/39.49MB
 b9102aedc8d2 Pull complete 
 b9102aedc8d2 Pull complete 
 b9102aedc8d2 Pull complete 
 395992a1c37a Extracting [==================================================>]     184B/184B
 395992a1c37a Extracting [==================================================>]     184B/184B
 395992a1c37a Extracting [==================================================>]     184B/184B
 395992a1c37a Extracting [==================================================>]     184B/184B
 395992a1c37a Extracting [==================================================>]     184B/184B
 395992a1c37a Extracting [==================================================>]     184B/184B
 395992a1c37a Pull complete 
 395992a1c37a Pull complete 
 395992a1c37a Pull complete 
 a66ada507b72 Extracting [==================================================>]  3.391kB/3.391kB
 a66ada507b72 Extracting [==================================================>]  3.391kB/3.391kB
 a66ada507b72 Extracting [==================================================>]  3.391kB/3.391kB
 a66ada507b72 Extracting [==================================================>]  3.391kB/3.391kB
 a66ada507b72 Extracting [==================================================>]  3.391kB/3.391kB
 a66ada507b72 Extracting [==================================================>]  3.391kB/3.391kB
 a66ada507b72 Pull complete 
 a66ada507b72 Pull complete 
 a66ada507b72 Pull complete 
 c5e91758c40d Extracting [==================================================>]     138B/138B
 c5e91758c40d Extracting [==================================================>]     138B/138B
 c5e91758c40d Extracting [==================================================>]     138B/138B
 c5e91758c40d Extracting [==================================================>]     138B/138B
 c5e91758c40d Extracting [==================================================>]     138B/138B
 c5e91758c40d Extracting [==================================================>]     138B/138B
 c5e91758c40d Pull complete 
 c5e91758c40d Pull complete 
 c5e91758c40d Pull complete 
 103793e5b42c Extracting [==================================================>]      93B/93B
 103793e5b42c Extracting [==================================================>]      93B/93B
 103793e5b42c Extracting [==================================================>]      93B/93B
 103793e5b42c Extracting [==================================================>]      93B/93B
 103793e5b42c Extracting [==================================================>]      93B/93B
 103793e5b42c Extracting [==================================================>]      93B/93B
 103793e5b42c Pull complete 
 103793e5b42c Pull complete 
 103793e5b42c Pull complete 
 ab1bb1bcc11c Extracting [=====================================>             ]  32.77kB/43.73kB
 ab1bb1bcc11c Extracting [=====================================>             ]  32.77kB/43.73kB
 ab1bb1bcc11c Extracting [=====================================>             ]  32.77kB/43.73kB
 ab1bb1bcc11c Extracting [==================================================>]  43.73kB/43.73kB
 ab1bb1bcc11c Extracting [==================================================>]  43.73kB/43.73kB
 ab1bb1bcc11c Extracting [==================================================>]  43.73kB/43.73kB
 ab1bb1bcc11c Pull complete 
 ab1bb1bcc11c Pull complete 
 ab1bb1bcc11c Pull complete 
 worker01 Pulled 
 api02 Pulled 
 api01 Pulled 
#1 [internal] load local bake definitions
#1 reading from stdin 438B done
#1 DONE 0.0s

#2 [internal] load build definition from Dockerfile-redis
#2 transferring dockerfile: 227B done
#2 DONE 0.1s

#3 [internal] load metadata for docker.io/library/redis:7.2-alpine
#3 DONE 0.0s

#4 [internal] load .dockerignore
#4 transferring context:
#4 transferring context: 2B done
#4 DONE 0.1s

#5 [internal] load build context
#5 transferring context: 309B done
#5 DONE 0.2s

#6 [1/4] FROM docker.io/library/redis:7.2-alpine
#6 DONE 0.4s

#7 [2/4] COPY ./redis.conf /usr/local/etc/redis/redis.conf
#7 DONE 3.2s

#8 [3/4] COPY ./init-redis.sh /init-redis.sh
#8 DONE 0.2s

#9 [4/4] RUN set -x   && chmod u+x /init-redis.sh
#9 0.379 + chmod u+x /init-redis.sh
#9 DONE 0.5s

#10 exporting to image
#10 exporting layers
#10 exporting layers 0.2s done
#10 writing image sha256:6535499f9211c8d2e9e204a658fd0d1f44c1c772ae40d4e7c8390549959674d3 done
#10 naming to docker.io/library/silvaangelo-redis 0.0s done
#10 DONE 0.2s

#11 resolving provenance for metadata file
#11 DONE 0.0s
 redis  Built
 Network silvaangelo_rinha-net  Creating
 Network silvaangelo_rinha-net  Created
 Volume "silvaangelo_redis-socket"  Creating
 Volume "silvaangelo_redis-socket"  Created
 Volume "silvaangelo_rinha-api01"  Creating
 Volume "silvaangelo_rinha-api01"  Created
 Volume "silvaangelo_rinha-api02"  Creating
 Volume "silvaangelo_rinha-api02"  Created
 Container silvaangelo-redis-1  Creating
 Container silvaangelo-redis-1  Created
 Container silvaangelo-api02-1  Creating
 Container silvaangelo-api01-1  Creating
 Container silvaangelo-worker01-1  Creating
 Container silvaangelo-api01-1  Created
 Container silvaangelo-api02-1  Created
 Container silvaangelo-worker01-1  Created
 Container silvaangelo-haproxy-1  Creating
 Container silvaangelo-haproxy-1  Created
Attaching to api01-1, api02-1, haproxy-1, redis-1, worker01-1
redis-1     | 1:C 02 Aug 2025 14:56:23.540 # WARNING Memory overcommit must be enabled! Without it, a background save or replication may fail under low memory condition. Being disabled, it can also cause failures without low memory condition, see https://github.com/jemalloc/jemalloc/issues/1328. To fix this issue add 'vm.overcommit_memory = 1' to /etc/sysctl.conf and then reboot or run the command 'sysctl vm.overcommit_memory=1' for this to take effect.
redis-1     | 1:C 02 Aug 2025 14:56:23.540 * oO0OoO0OoO0Oo Redis is starting oO0OoO0OoO0Oo
redis-1     | 1:C 02 Aug 2025 14:56:23.540 * Redis version=7.2.10, bits=64, commit=00000000, modified=0, pid=1, just started
redis-1     | 1:C 02 Aug 2025 14:56:23.540 * Configuration loaded
redis-1     | 1:M 02 Aug 2025 14:56:23.540 * monotonic clock: POSIX clock_gettime
redis-1     | 1:M 02 Aug 2025 14:56:23.541 * Running mode=standalone, port=0.
redis-1     | 1:M 02 Aug 2025 14:56:23.541 * Server initialized
redis-1     | 1:M 02 Aug 2025 14:56:23.541 * Ready to accept connections unix
haproxy-1   | [NOTICE]   (1) : New worker (8) forked
haproxy-1   | [NOTICE]   (1) : Loading success.
haproxy-1   | [WARNING]  (8) : Server backend_payments/api01 is DOWN, reason: Socket error, info: "General socket error (No such file or directory)", check duration: 0ms. 1 active and 0 backup servers left. 0 sessions active, 0 requeued, 0 remaining in queue.
api01-1     | Subscribed to payments:default:health
api01-1     | Subscribed to payments:fallback:health
api01-1     | Subscribed to paid channels
api01-1     | Subscribed to workers:ready
worker01-1  | Subscribed to payments:default:health
api02-1     | Subscribed to payments:default:health
worker01-1  | Subscribed to payments:fallback:health
api02-1     | Subscribed to payments:fallback:health
worker01-1  | Subscribed to paid channels
api02-1     | Subscribed to paid channels
api02-1     | Subscribed to workers:ready
api01-1     | Server is running on http://localhost:3000
haproxy-1   | [WARNING]  (8) : Server backend_payments/api02 is DOWN, reason: Socket error, info: "General socket error (No such file or directory)", check duration: 0ms. 0 active and 0 backup servers left. 0 sessions active, 0 requeued, 0 remaining in queue.
haproxy-1   | [ALERT]    (8) : backend 'backend_payments' has no server available!
api02-1     | Server is running on http://localhost:3000
haproxy-1   | [WARNING]  (8) : Server backend_payments/api01 is UP, reason: Layer4 check passed, check duration: 0ms. 1 active and 0 backup servers online. 0 sessions requeued, 0 total in queue.
haproxy-1   | [WARNING]  (8) : Server backend_payments/api02 is UP, reason: Layer4 check passed, check duration: 0ms. 2 active and 0 backup servers online. 0 sessions requeued, 0 total in queue.
haproxy-1   | [NOTICE]   (1) : haproxy version is 2.9.15-e872a3f
haproxy-1   | [WARNING]  (1) : Exiting Master process...
haproxy-1   | [WARNING]  (8) : Proxy http-in stopped (cumulated conns: FE: 559, BE: 0).
haproxy-1   | [WARNING]  (8) : Proxy backend_payments stopped (cumulated conns: FE: 0, BE: 16758).
haproxy-1   | [WARNING]  (8) : Proxy backend_summary stopped (cumulated conns: FE: 0, BE: 0).
haproxy-1   | [WARNING]  (8) : Proxy backend_purge stopped (cumulated conns: FE: 0, BE: 1).
haproxy-1   | [WARNING]  (1) : Current worker (8) exited with code 0 (Exit)
haproxy-1   | [WARNING]  (1) : All workers exited. Exiting... (0)
[Khaproxy-1 exited with code 0
[Kapi01-1 exited with code 137
[Kapi02-1 exited with code 137
[Kworker01-1 exited with code 137
redis-1     | 1:signal-handler (1754146674) Received SIGTERM scheduling shutdown...
redis-1     | 1:M 02 Aug 2025 14:57:54.600 * User requested shutdown...
redis-1     | 1:M 02 Aug 2025 14:57:54.600 * Removing the unix socket file.
redis-1     | 1:M 02 Aug 2025 14:57:54.600 # Redis is now ready to exit, bye bye...
[Kredis-1 exited with code 0
log truncated at line 1000
